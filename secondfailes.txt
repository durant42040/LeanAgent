240a427bcecc7c0fe19306beb1310
2024-08-31 18:27:41.182 | INFO     | dynamic_database:generate_merged_dataset:428 - Exported traced files to /data/yingzi_ma/lean_project/datasets_retrieval_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438
e240a427bcecc7c0fe19306beb1310
2024-08-31 18:27:41.186 | INFO     | dynamic_database:generate_merged_dataset:431 - Exported metadata to /data/yingzi_ma/lean_project/datasets_retrieval_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240
a427bcecc7c0fe19306beb1310
^Z
[1]+  Stopped                 bash run_code.sh
(ReProver) yingzi_ma@compute-permanent-node-834:~/lean_project/ReProver$ conda activate ReProver
export TORCH_NCCL_ASYNC_ERROR_HANDLING=1
export PYTHONPATH="${PYTHONPATH}:/data/yingzi_ma/lean_project/ReProver"
export GITHUB_ACCESS_TOKEN="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"
export CACHE_DIR="/data/yingzi_ma/lean_project/.cache/lean_dojo"
(ReProver) yingzi_ma@compute-permanent-node-834:~/lean_project/ReProver$ python main2.py
[2024-08-31 20:02:34,213] [INFO] [real_accelerator.py:203:get_accelerator] Setting ds_accelerator to cuda (auto detect)
2024-08-31 20:02:37.112 | INFO     | __main__:main:1193 - Running progressive training
2024-08-31 20:02:37.112 | INFO     | __main__:main:1199 - Configuring LeanDojo...
2024-08-31 20:02:37.115 | INFO     | generate_benchmark_lean4:configure_leandojo:317 - Current working directory: /data/yingzi_ma/lean_project/ReProver
2024-08-31 20:02:37.115 | INFO     | __main__:main:1201 - LeanDojo configured
2024-08-31 20:02:38.821 | INFO     | __main__:search_github_repositories:372 - Processing leanprover/lean4
2024-08-31 20:02:38.821 | INFO     | __main__:search_github_repositories:390 - Skipping leanprover/lean4 since it is a known repository
2024-08-31 20:02:38.821 | INFO     | __main__:search_github_repositories:372 - Processing leanprover-community/mathlib3
Cloning https://github.com/leanprover-community/mathlib3.git
Repo name: leanprover-community/mathlib3
2024-08-31 20:02:39.682 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/leanprover-community/mathlib3/65a1391a0106c9204fe45bc73a039f056558cb83/lean-toolchain failed. Retr
ying...
2024-08-31 20:02:40.709 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/leanprover-community/mathlib3/65a1391a0106c9204fe45bc73a039f056558cb83/lean-toolchain failed. Retr
ying...
2024-08-31 20:02:42.736 | INFO     | __main__:search_github_repositories:388 - Failed to clone leanprover-community/mathlib3 because of HTTP Error 404: Not Found
2024-08-31 20:02:42.736 | INFO     | __main__:search_github_repositories:372 - Processing leanprover-community/mathlib4
Cloning https://github.com/leanprover-community/mathlib4.git
Repo name: leanprover-community/mathlib4
2024-08-31 20:02:43.566 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc3
2024-08-31 20:02:58.938 | INFO     | __main__:search_github_repositories:372 - Processing uwdb/Cosette
Cloning https://github.com/uwdb/Cosette.git
Repo name: uwdb/Cosette
2024-08-31 20:02:59.668 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/uwdb/Cosette/c16b48ec7d278c717a9f1da3684f69621b3863f2/lean-toolchain failed. Retrying...
2024-08-31 20:03:00.695 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/uwdb/Cosette/c16b48ec7d278c717a9f1da3684f69621b3863f2/lean-toolchain failed. Retrying...
2024-08-31 20:03:02.721 | INFO     | __main__:search_github_repositories:388 - Failed to clone uwdb/Cosette because of HTTP Error 404: Not Found
2024-08-31 20:03:02.722 | INFO     | __main__:search_github_repositories:372 - Processing AndrasKovacs/smalltt
Cloning https://github.com/AndrasKovacs/smalltt.git
Repo name: AndrasKovacs/smalltt
2024-08-31 20:03:03.401 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/AndrasKovacs/smalltt/b5fc9b3747dcbf8c71ca9f976afb7b574b630996/lean-toolchain failed. Retrying...
2024-08-31 20:03:04.437 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/AndrasKovacs/smalltt/b5fc9b3747dcbf8c71ca9f976afb7b574b630996/lean-toolchain failed. Retrying...
2024-08-31 20:03:06.464 | INFO     | __main__:search_github_repositories:388 - Failed to clone AndrasKovacs/smalltt because of HTTP Error 404: Not Found
2024-08-31 20:03:06.465 | INFO     | __main__:search_github_repositories:372 - Processing dselsam/certigrad
Cloning https://github.com/dselsam/certigrad.git
Repo name: dselsam/certigrad
2024-08-31 20:03:07.170 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/dselsam/certigrad/c9a06e93f1ec58196d6d3b8563b29868d916727f/lean-toolchain failed. Retrying...
2024-08-31 20:03:08.196 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/dselsam/certigrad/c9a06e93f1ec58196d6d3b8563b29868d916727f/lean-toolchain failed. Retrying...
2024-08-31 20:03:10.223 | INFO     | __main__:search_github_repositories:388 - Failed to clone dselsam/certigrad because of HTTP Error 404: Not Found
2024-08-31 20:03:10.224 | INFO     | __main__:search_github_repositories:372 - Processing Kha/electrolysis
Cloning https://github.com/Kha/electrolysis.git
Repo name: Kha/electrolysis
2024-08-31 20:03:10.869 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/Kha/electrolysis/bd4655d91ca65856fb8373637ce3e7b17ee3a190/lean-toolchain failed. Retrying...
2024-08-31 20:03:11.895 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/Kha/electrolysis/bd4655d91ca65856fb8373637ce3e7b17ee3a190/lean-toolchain failed. Retrying...
2024-08-31 20:03:13.920 | INFO     | __main__:search_github_repositories:388 - Failed to clone Kha/electrolysis because of HTTP Error 404: Not Found
2024-08-31 20:03:13.921 | INFO     | __main__:search_github_repositories:372 - Processing ImperialCollegeLondon/formalising-mathematics
Cloning https://github.com/ImperialCollegeLondon/formalising-mathematics.git
Repo name: ImperialCollegeLondon/formalising-mathematics
2024-08-31 20:03:14.620 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/ImperialCollegeLondon/formalising-mathematics/d81ad67e36774eb68f242bcc1b88d33dacfd87bf/lean-toolch
ain failed. Retrying...
2024-08-31 20:03:15.646 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/ImperialCollegeLondon/formalising-mathematics/d81ad67e36774eb68f242bcc1b88d33dacfd87bf/lean-toolch
ain failed. Retrying...
2024-08-31 20:03:17.673 | INFO     | __main__:search_github_repositories:388 - Failed to clone ImperialCollegeLondon/formalising-mathematics because of HTTP Error 404: Not Found
2024-08-31 20:03:17.674 | INFO     | __main__:search_github_repositories:372 - Processing lecopivo/SciLean
Cloning https://github.com/lecopivo/SciLean.git
Repo name: lecopivo/SciLean
2024-08-31 20:03:18.208 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc2
Found 2 repositories
Using lambda = 0.1
Processing /data/yingzi_ma/lean_project/repos_new/leanprover-community/mathlib4
2024-08-31 20:03:33.819 | INFO     | __main__:retrieve_proof:1008 - Processing https://github.com/leanprover-community/mathlib4.git
2024-08-31 20:03:33.820 | INFO     | __main__:retrieve_proof:1024 - Found compatible commit 2b29e73438e240a427bcecc7c0fe19306beb1310 for https://github.com/leanprover-community/mathlib4.git
2024-08-31 20:03:33.820 | INFO     | __main__:retrieve_proof:1025 - Lean version: v4.8.0
2024-08-31 20:03:33.845 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.8.0
2024-08-31 20:03:49.166 | INFO     | __main__:retrieve_proof:1030 - Generating benchmark at /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310
2024-08-31 20:03:49.167 | INFO     | generate_benchmark_lean4:main:324 - Generating dataset to go into /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb131
0
2024-08-31 20:03:49.167 | INFO     | generate_benchmark_lean4:main:331 - lean toolchain version: {'content': 'leanprover/lean4:v4.8.0\n'}
2024-08-31 20:03:49.167 | INFO     | generate_benchmark_lean4:main:333 - lean version v: v4.8.0
2024-08-31 20:03:49.167 | INFO     | generate_benchmark_lean4:main:334 - is supported: True
2024-08-31 20:03:49.167 | INFO     | generate_benchmark_lean4:main:344 - lean path1 /data/yingzi_ma/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:03:49.167 | INFO     | generate_benchmark_lean4:main:345 - lean path2 /.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:03:49.167 | INFO     | generate_benchmark_lean4:main:346 - lean path3 ~/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:03:49.169 | INFO     | generate_benchmark_lean4:main:350 - Lean toolchain path 2 does not exist: /.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:03:49.169 | INFO     | generate_benchmark_lean4:main:352 - Lean toolchain path 3 does not exist: ~/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:03:49.169 | INFO     | generate_benchmark_lean4:main:355 - Switched to Lean toolchain at: /data/yingzi_ma/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:03:49.212 | INFO     | generate_benchmark_lean4:main:357 - lean --version: Lean (version 4.8.0, x86_64-unknown-linux-gnu, commit df668f00e6c0, Release)

2024-08-31 20:03:49.212 | INFO     | generate_benchmark_lean4:main:358 - repo: LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2b29e73438e240a427bcecc7c0fe19306beb1310')
2024-08-31 20:03:49.212 | INFO     | generate_benchmark_lean4:main:360 - Configuring LeanDojo again...
2024-08-31 20:03:49.219 | INFO     | generate_benchmark_lean4:configure_leandojo:317 - Current working directory: /data/yingzi_ma/lean_project/ReProver
2024-08-31 20:03:49.219 | INFO     | generate_benchmark_lean4:main:362 - LeanDojo configured
2024-08-31 20:03:49.220 | INFO     | generate_benchmark_lean4:main:365 - Tracing the repo...
2024-08-31 20:03:49.223 | DEBUG    | lean_dojo.data_extraction.trace:get_traced_repo_path:87 - The traced repo is available in the cache.
2024-08-31 20:03:49.223 | INFO     | lean_dojo.data_extraction.trace:trace:116 - Loading the traced repo from /data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathlib4-2b29e73438e240a427bcecc7c
0fe19306beb1310/mathlib4
2024-08-31 20:03:53.092 | DEBUG    | lean_dojo.data_extraction.traced_data:load_from_disk:1123 - Loading 5514 traced XML files from /data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathlib4-2b2
9e73438e240a427bcecc7c0fe19306beb1310/mathlib4 with 31 workers
100%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 5514/5514 [11:50<00:00,  7.7
6it/s]
2024-08-31 20:15:44.051 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2b29e73438e240a
427bcecc7c0fe19306beb1310')
2024-08-31 20:15:45.492 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.6.0-rc1
2024-08-31 20:16:01.834 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.8.0-rc1
2024-08-31 20:16:17.773 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.7.0
2024-08-31 20:16:33.337 | DEBUG    | lean_dojo.data_extraction.lean:url_to_repo:70 - url_to_repo("https://github.com/leanprover-community/import-graph.git") failed. Retrying...
2024-08-31 20:16:34.467 | DEBUG    | lean_dojo.data_extraction.lean:url_to_repo:70 - url_to_repo("https://github.com/leanprover-community/import-graph.git") failed. Retrying...
2024-08-31 20:16:37.013 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for doc-gen4 main
2024-08-31 20:16:37.600 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for batteries main
2024-08-31 20:16:46.976 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for quote4 master
2024-08-31 20:16:47.375 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.10.0
2024-08-31 20:17:02.559 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for aesop master
2024-08-31 20:17:03.596 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc1
2024-08-31 20:17:19.062 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for ProofWidgets4 v0.0.36
2024-08-31 20:17:19.885 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4-cli main
2024-08-31 20:17:20.488 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.9.0
2024-08-31 20:17:36.396 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for import-graph main
2024-08-31 20:17:36.985 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover/doc-gen4', commit='83f718b9055972dce4f92f5b3
917426b91a0d2fe')
2024-08-31 20:17:37.498 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.9.0-rc1
Following Github server redirection from /repos/mhuisi/lean4-cli to /repositories/341363356
2024-08-31 20:17:54.357 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4-nightly nightly-2024-06-05
2024-08-31 20:17:55.808 | WARNING  | lean_dojo.data_extraction.lean:__post_init__:446 - LeanGitRepo(url='https://github.com/mhuisi/lean4-cli', commit='bf066c328bcff19aa93adf4d24c4e896c0d4eaca') relies on an unsu
pported Lean version: fbb3055f82ff9a4bc82f6722f6e73225617342fd
2024-08-31 20:17:55.809 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/batteries', commit='a7fd140a94bbbf
a40cf10839227bbb9e8492be2d')
2024-08-31 20:17:55.981 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/quote4', commit='d38fb94558af9957b
8f479e350841ce65a1ec42c')
2024-08-31 20:17:56.172 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/aesop', commit='6c89b6765913a0d727
c1066493c3f5dc51c9713e')
2024-08-31 20:17:56.540 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/ProofWidgets4', commit='e6b6247c61
280c77ade6bbf0bc3c66a44fe2e0c5')
2024-08-31 20:17:56.900 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover/lean4-cli', commit='2cf1030dc2ae6b3632c84a09
350b675ef3e347d0')
2024-08-31 20:17:57.073 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/import-graph', commit='0a756018b73
6ef4f4bc3c9a45fc03cf97a0b1a0c')
2024-08-31 20:18:20.461 | DEBUG    | lean_dojo.data_extraction.traced_data:check_sanity:1009 - Checking the sanity of TracedRepo(repo=LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2
b29e73438e240a427bcecc7c0fe19306beb1310'), dependencies={'lean4': LeanGitRepo(url='https://github.com/leanprover/lean4', commit='daa22187642d4cf6954c39a23eab20d8a8675416'), 'batteries': LeanGitRepo(url='https://
github.com/leanprover-community/batteries', commit='021e272cb5cdcc82b7e1e760fe915ff2f64169ad'), 'Qq': LeanGitRepo(url='https://github.com/leanprover-community/quote4', commit='53156671405fbbd5402ed17a79bd129b961
bd8d6'), 'aesop': LeanGitRepo(url='https://github.com/leanprover-community/aesop', commit='53ba96ad7666d4a2515292974631629b5ea5dfee'), 'proofwidgets': LeanGitRepo(url='https://github.com/leanprover-community/Pro
ofWidgets4', commit='e6b6247c61280c77ade6bbf0bc3c66a44fe2e0c5'), 'Cli': LeanGitRepo(url='https://github.com/leanprover/lean4-cli', commit='2cf1030dc2ae6b3632c84a09350b675ef3e347d0'), '«doc-gen4»': LeanGitRepo(ur
l='https://github.com/leanprover/doc-gen4', commit='83f718b9055972dce4f92f5b3917426b91a0d2fe'), 'MD4Lean': LeanGitRepo(url='https://github.com/acmepjz/md4lean', commit='5e95f4776be5e048364f325c7e9d619bb56fb005')
, 'UnicodeBasic': LeanGitRepo(url='https://github.com/fgdorais/lean4-unicode-basic', commit='9447739fe9714f8a091192bad5cd5e7b5a8ae1e4'), 'BibtexQuery': LeanGitRepo(url='https://github.com/dupuisf/BibtexQuery', c
ommit='c138ab5c566c4268798b24bfcbea2f4c42413cdd'), 'importGraph': LeanGitRepo(url='https://github.com/leanprover-community/import-graph', commit='0a756018b736ef4f4bc3c9a45fc03cf97a0b1a0c')}, root_dir=PosixPath('
/data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathlib4-2b29e73438e240a427bcecc7c0fe19306beb1310/mathlib4'))
2024-08-31 20:18:48.749 | INFO     | generate_benchmark_lean4:main:367 - Successfully traced the repo
2024-08-31 20:18:48.751 | WARNING  | generate_benchmark_lean4:main:372 - /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310 already exists. Using it ins
tead.
2024-08-31 20:18:48.751 | INFO     | __main__:retrieve_proof:1038 - Finished generating benchmark at /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310
2024-08-31 20:18:59.309 | INFO     | dynamic_database:add_repository:583 - Attempting to add repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 20:18:59.309 | INFO     | dynamic_database:add_repository:586 - Added new repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 52101.1
5it/s]
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 53396.7
7it/s]
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 116251/116251 [01:36<00:00, 1201.5
7it/s]
2024-08-31 20:20:40.017 | INFO     | __main__:retrieve_proof:1076 - Before adding new repo:
2024-08-31 20:20:40.017 | INFO     | dynamic_database:print_database_contents:607 - Current database contents:
2024-08-31 20:20:40.017 | INFO     | dynamic_database:print_database_contents:609 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 20:20:40.017 | INFO     | dynamic_database:add_repository:583 - Attempting to add repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 20:20:40.017 | INFO     | dynamic_database:add_repository:588 - Repository 'https://github.com/leanprover-community/mathlib4' with commit '2b29e73438e240a427bcecc7c0fe19306beb1310' already exists in t
he database.
2024-08-31 20:20:40.018 | INFO     | __main__:retrieve_proof:1079 - After adding new repo:
2024-08-31 20:20:40.018 | INFO     | dynamic_database:print_database_contents:607 - Current database contents:
2024-08-31 20:20:40.018 | INFO     | dynamic_database:print_database_contents:609 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 20:20:53.661 | INFO     | __main__:retrieve_proof:1088 - Adding repo to repos_for_merged_dataset
2024-08-31 20:20:53.663 | INFO     | dynamic_database:generate_merged_dataset:399 - Merging selected repositories in the database:
2024-08-31 20:20:53.663 | INFO     | dynamic_database:generate_merged_dataset:401 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 20:23:20.723 | WARNING  | dynamic_database:generate_merged_dataset:418 - /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310 a
lready exists. Removing it now.
2024-08-31 20:23:44.158 | INFO     | dynamic_database:generate_merged_dataset:422 - Exported proofs to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc
7c0fe19306beb1310
2024-08-31 20:23:44.750 | INFO     | dynamic_database:generate_merged_dataset:425 - Merged and exported corpus to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e2
40a427bcecc7c0fe19306beb1310
2024-08-31 20:23:44.764 | INFO     | dynamic_database:generate_merged_dataset:428 - Exported traced files to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a42
7bcecc7c0fe19306beb1310
2024-08-31 20:23:44.767 | INFO     | dynamic_database:generate_merged_dataset:431 - Exported metadata to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310
2024-08-31 20:23:44.789 | INFO     | __main__:find_latest_checkpoint:455 - Using the latest checkpoint: /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069
194c5.ckpt
2024-08-31 20:23:44.789 | INFO     | __main__:retrieve_proof:1100 - Found latest checkpoint: /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.ckpt
2024-08-31 20:23:44.789 | INFO     | __main__:train_test_fisher:595 - Inside train_test_fisher
2024-08-31 20:23:44.789 | INFO     | __main__:train_test_fisher:596 - Starting training at epoch 0
[rank: 0] Seed set to 3407
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/lightning_fabric/utilities/cloud_io.py:57: You are using `torch.load` with `weights_only=False` (the current default value), which uses the d
efault pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-mode
ls for more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be
allowed to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don
't have full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.
Lightning automatically upgraded your loaded checkpoint from v0.0.0 to v2.2.4. To apply the upgrade to your files permanently, run `python -m pytorch_lightning.utilities.upgrade_checkpoint ../checkpoints_PT_sing
le_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.ckpt`
2024-08-31 20:23:48.533 | INFO     | __main__:train_test_fisher:620 - Loaded premise retriever at /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.
ckpt and reset epoch count
2024-08-31 20:23:48.533 | INFO     | __main__:find_latest_fisher:465 - Using the latest Fisher Information Matrix: /data/yingzi_ma/lean_project/fisher_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68
bbe069194c5_fisher_info.pkl
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/torch/storage.py:414: FutureWarning: You are using `torch.load` with `weights_only=False` (the current default value), which uses the default
 pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-models for
 more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be allowe
d to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don't hav
e full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.
  return torch.load(io.BytesIO(b))
2024-08-31 20:23:50.038 | INFO     | __main__:load_fisher_information:442 - Fisher Information successfully loaded.
2024-08-31 20:23:50.038 | INFO     | retrieval.model:set_fisher_info:62 - Fisher Information has been updated in the model.
2024-08-31 20:23:50.038 | INFO     | __main__:train_test_fisher:626 - Fisher Information Matrix loaded.
Data path: /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310/random
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/transformers/tokenization_utils_base.py:1601: FutureWarning: `clean_up_tokenization_spaces` was not set. It will be set to `True` by default.
 This behavior will be depracted in transformers v4.45, and will be then set to `False` by default. For more details check this issue: https://github.com/huggingface/transformers/issues/31884
  warnings.warn(
2024-08-31 20:23:50.143 | INFO     | common:__init__:208 - Building the corpus from /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310/c
orpus.jsonl
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 116251/116251 [00:27<00:00, 4286.9
8it/s]
2024-08-31 20:24:49.827 | INFO     | retrieval.datamodule:load_or_cache_data:61 - Saved loaded data to cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a42
7bcecc7c0fe19306beb1310/random/cache_train/cached_data.pkl
Training dataset size: 358647
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 6649.4
6it/s]
2024-08-31 20:24:50.286 | INFO     | retrieval.datamodule:load_or_cache_data:61 - Saved loaded data to cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a42
7bcecc7c0fe19306beb1310/random/cache_val/cached_data.pkl
Validation dataset size: 4904
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 6363.3
4it/s]
2024-08-31 20:24:50.765 | INFO     | retrieval.datamodule:load_or_cache_data:61 - Saved loaded data to cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a42
7bcecc7c0fe19306beb1310/random/cache_pred/cached_data.pkl
Testing dataset size: 5431
Training dataset size after load: 358647
Validation dataset size after load: 4904
Testing dataset size after load: 5431
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/lightning_fabric/plugins/environments/slurm.py:204: The `srun` command is available on your system but is not used. HINT: If your intention i
s to run Lightning on SLURM, prepend your python command with `srun` like so: srun python main2.py ...
Using bfloat16 Automatic Mixed Precision (AMP)
GPU available: True (cuda), used: True
TPU available: False, using: 0 TPU cores
IPU available: False, using: 0 IPUs
HPU available: False, using: 0 HPUs
2024-08-31 20:24:50.920 | INFO     | __main__:train_test_fisher:699 - Starting progressive training from epoch 0 to 1
[rank: 0] Seed set to 3407
Initializing distributed: GLOBAL_RANK: 0, MEMBER: 1/4
[2024-08-31 20:24:58,679] [INFO] [real_accelerator.py:203:get_accelerator] Setting ds_accelerator to cuda (auto detect)
[2024-08-31 20:24:58,679] [INFO] [real_accelerator.py:203:get_accelerator] Setting ds_accelerator to cuda (auto detect)
[2024-08-31 20:24:58,680] [INFO] [real_accelerator.py:203:get_accelerator] Setting ds_accelerator to cuda (auto detect)
2024-08-31 20:25:01.627 | INFO     | __main__:main:1193 - Running progressive training
2024-08-31 20:25:01.627 | INFO     | __main__:main:1193 - Running progressive training
2024-08-31 20:25:01.627 | INFO     | __main__:main:1199 - Configuring LeanDojo...
2024-08-31 20:25:01.627 | INFO     | __main__:main:1199 - Configuring LeanDojo...
2024-08-31 20:25:01.628 | INFO     | __main__:main:1193 - Running progressive training
2024-08-31 20:25:01.628 | INFO     | __main__:main:1199 - Configuring LeanDojo...
2024-08-31 20:25:01.630 | INFO     | generate_benchmark_lean4:configure_leandojo:317 - Current working directory: /data/yingzi_ma/lean_project/ReProver
2024-08-31 20:25:01.630 | INFO     | __main__:main:1201 - LeanDojo configured
2024-08-31 20:25:01.630 | INFO     | generate_benchmark_lean4:configure_leandojo:317 - Current working directory: /data/yingzi_ma/lean_project/ReProver
2024-08-31 20:25:01.630 | INFO     | __main__:main:1201 - LeanDojo configured
2024-08-31 20:25:01.632 | INFO     | generate_benchmark_lean4:configure_leandojo:317 - Current working directory: /data/yingzi_ma/lean_project/ReProver
2024-08-31 20:25:01.632 | INFO     | __main__:main:1201 - LeanDojo configured
2024-08-31 20:25:03.151 | INFO     | __main__:search_github_repositories:372 - Processing leanprover/lean4
2024-08-31 20:25:03.151 | INFO     | __main__:search_github_repositories:390 - Skipping leanprover/lean4 since it is a known repository
2024-08-31 20:25:03.151 | INFO     | __main__:search_github_repositories:372 - Processing leanprover-community/mathlib3
Cloning https://github.com/leanprover-community/mathlib3.git
Repo name: leanprover-community/mathlib3
2024-08-31 20:25:03.155 | INFO     | __main__:search_github_repositories:372 - Processing leanprover/lean4
2024-08-31 20:25:03.155 | INFO     | __main__:search_github_repositories:390 - Skipping leanprover/lean4 since it is a known repository
2024-08-31 20:25:03.155 | INFO     | __main__:search_github_repositories:372 - Processing leanprover-community/mathlib3
Cloning https://github.com/leanprover-community/mathlib3.git
Repo name: leanprover-community/mathlib3
2024-08-31 20:25:03.425 | INFO     | __main__:search_github_repositories:372 - Processing leanprover/lean4
2024-08-31 20:25:03.425 | INFO     | __main__:search_github_repositories:390 - Skipping leanprover/lean4 since it is a known repository
2024-08-31 20:25:03.426 | INFO     | __main__:search_github_repositories:372 - Processing leanprover-community/mathlib3
Cloning https://github.com/leanprover-community/mathlib3.git
Repo name: leanprover-community/mathlib3
2024-08-31 20:25:03.935 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/leanprover-community/mathlib3/65a1391a0106c9204fe45bc73a039f056558cb83/lean-toolchain failed. Retr
ying...
2024-08-31 20:25:04.106 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/leanprover-community/mathlib3/65a1391a0106c9204fe45bc73a039f056558cb83/lean-toolchain failed. Retr
ying...
2024-08-31 20:25:04.160 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/leanprover-community/mathlib3/65a1391a0106c9204fe45bc73a039f056558cb83/lean-toolchain failed. Retr
ying...
2024-08-31 20:25:04.959 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/leanprover-community/mathlib3/65a1391a0106c9204fe45bc73a039f056558cb83/lean-toolchain failed. Retr
ying...
2024-08-31 20:25:05.131 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/leanprover-community/mathlib3/65a1391a0106c9204fe45bc73a039f056558cb83/lean-toolchain failed. Retr
ying...
2024-08-31 20:25:05.199 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/leanprover-community/mathlib3/65a1391a0106c9204fe45bc73a039f056558cb83/lean-toolchain failed. Retr
ying...
2024-08-31 20:25:06.985 | INFO     | __main__:search_github_repositories:388 - Failed to clone leanprover-community/mathlib3 because of HTTP Error 404: Not Found
2024-08-31 20:25:06.986 | INFO     | __main__:search_github_repositories:372 - Processing leanprover-community/mathlib4
Cloning https://github.com/leanprover-community/mathlib4.git
Repo name: leanprover-community/mathlib4
2024-08-31 20:25:07.156 | INFO     | __main__:search_github_repositories:388 - Failed to clone leanprover-community/mathlib3 because of HTTP Error 404: Not Found
2024-08-31 20:25:07.156 | INFO     | __main__:search_github_repositories:372 - Processing leanprover-community/mathlib4
Cloning https://github.com/leanprover-community/mathlib4.git
Repo name: leanprover-community/mathlib4
2024-08-31 20:25:07.235 | INFO     | __main__:search_github_repositories:388 - Failed to clone leanprover-community/mathlib3 because of HTTP Error 404: Not Found
2024-08-31 20:25:07.236 | INFO     | __main__:search_github_repositories:372 - Processing leanprover-community/mathlib4
Cloning https://github.com/leanprover-community/mathlib4.git
Repo name: leanprover-community/mathlib4
2024-08-31 20:25:07.942 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc3
2024-08-31 20:25:07.942 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc3
2024-08-31 20:25:07.983 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc3
2024-08-31 20:25:23.262 | INFO     | __main__:search_github_repositories:372 - Processing uwdb/Cosette
Cloning https://github.com/uwdb/Cosette.git
Repo name: uwdb/Cosette
2024-08-31 20:25:23.381 | INFO     | __main__:search_github_repositories:372 - Processing uwdb/Cosette
Cloning https://github.com/uwdb/Cosette.git
Repo name: uwdb/Cosette
2024-08-31 20:25:23.539 | INFO     | __main__:search_github_repositories:372 - Processing uwdb/Cosette
Cloning https://github.com/uwdb/Cosette.git
Repo name: uwdb/Cosette
2024-08-31 20:25:24.040 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/uwdb/Cosette/c16b48ec7d278c717a9f1da3684f69621b3863f2/lean-toolchain failed. Retrying...
2024-08-31 20:25:24.041 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/uwdb/Cosette/c16b48ec7d278c717a9f1da3684f69621b3863f2/lean-toolchain failed. Retrying...
2024-08-31 20:25:24.050 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/uwdb/Cosette/c16b48ec7d278c717a9f1da3684f69621b3863f2/lean-toolchain failed. Retrying...
2024-08-31 20:25:25.067 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/uwdb/Cosette/c16b48ec7d278c717a9f1da3684f69621b3863f2/lean-toolchain failed. Retrying...
2024-08-31 20:25:25.067 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/uwdb/Cosette/c16b48ec7d278c717a9f1da3684f69621b3863f2/lean-toolchain failed. Retrying...
2024-08-31 20:25:25.089 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/uwdb/Cosette/c16b48ec7d278c717a9f1da3684f69621b3863f2/lean-toolchain failed. Retrying...
2024-08-31 20:25:27.092 | INFO     | __main__:search_github_repositories:388 - Failed to clone uwdb/Cosette because of HTTP Error 404: Not Found
2024-08-31 20:25:27.093 | INFO     | __main__:search_github_repositories:372 - Processing AndrasKovacs/smalltt
Cloning https://github.com/AndrasKovacs/smalltt.git
Repo name: AndrasKovacs/smalltt
2024-08-31 20:25:27.094 | INFO     | __main__:search_github_repositories:388 - Failed to clone uwdb/Cosette because of HTTP Error 404: Not Found
2024-08-31 20:25:27.095 | INFO     | __main__:search_github_repositories:372 - Processing AndrasKovacs/smalltt
Cloning https://github.com/AndrasKovacs/smalltt.git
Repo name: AndrasKovacs/smalltt
2024-08-31 20:25:27.128 | INFO     | __main__:search_github_repositories:388 - Failed to clone uwdb/Cosette because of HTTP Error 404: Not Found
2024-08-31 20:25:27.130 | INFO     | __main__:search_github_repositories:372 - Processing AndrasKovacs/smalltt
Cloning https://github.com/AndrasKovacs/smalltt.git
Repo name: AndrasKovacs/smalltt
2024-08-31 20:25:27.700 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/AndrasKovacs/smalltt/b5fc9b3747dcbf8c71ca9f976afb7b574b630996/lean-toolchain failed. Retrying...
2024-08-31 20:25:27.700 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/AndrasKovacs/smalltt/b5fc9b3747dcbf8c71ca9f976afb7b574b630996/lean-toolchain failed. Retrying...
2024-08-31 20:25:27.700 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/AndrasKovacs/smalltt/b5fc9b3747dcbf8c71ca9f976afb7b574b630996/lean-toolchain failed. Retrying...
2024-08-31 20:25:28.726 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/AndrasKovacs/smalltt/b5fc9b3747dcbf8c71ca9f976afb7b574b630996/lean-toolchain failed. Retrying...
2024-08-31 20:25:28.726 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/AndrasKovacs/smalltt/b5fc9b3747dcbf8c71ca9f976afb7b574b630996/lean-toolchain failed. Retrying...
2024-08-31 20:25:28.738 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/AndrasKovacs/smalltt/b5fc9b3747dcbf8c71ca9f976afb7b574b630996/lean-toolchain failed. Retrying...
2024-08-31 20:25:30.753 | INFO     | __main__:search_github_repositories:388 - Failed to clone AndrasKovacs/smalltt because of HTTP Error 404: Not Found
2024-08-31 20:25:30.753 | INFO     | __main__:search_github_repositories:372 - Processing dselsam/certigrad
Cloning https://github.com/dselsam/certigrad.git
Repo name: dselsam/certigrad
2024-08-31 20:25:30.759 | INFO     | __main__:search_github_repositories:388 - Failed to clone AndrasKovacs/smalltt because of HTTP Error 404: Not Found
2024-08-31 20:25:30.760 | INFO     | __main__:search_github_repositories:372 - Processing dselsam/certigrad
Cloning https://github.com/dselsam/certigrad.git
Repo name: dselsam/certigrad
2024-08-31 20:25:30.770 | INFO     | __main__:search_github_repositories:388 - Failed to clone AndrasKovacs/smalltt because of HTTP Error 404: Not Found
2024-08-31 20:25:30.771 | INFO     | __main__:search_github_repositories:372 - Processing dselsam/certigrad
Cloning https://github.com/dselsam/certigrad.git
Repo name: dselsam/certigrad
2024-08-31 20:25:31.366 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/dselsam/certigrad/c9a06e93f1ec58196d6d3b8563b29868d916727f/lean-toolchain failed. Retrying...
2024-08-31 20:25:31.366 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/dselsam/certigrad/c9a06e93f1ec58196d6d3b8563b29868d916727f/lean-toolchain failed. Retrying...
2024-08-31 20:25:31.366 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/dselsam/certigrad/c9a06e93f1ec58196d6d3b8563b29868d916727f/lean-toolchain failed. Retrying...
2024-08-31 20:25:32.392 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/dselsam/certigrad/c9a06e93f1ec58196d6d3b8563b29868d916727f/lean-toolchain failed. Retrying...
2024-08-31 20:25:32.392 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/dselsam/certigrad/c9a06e93f1ec58196d6d3b8563b29868d916727f/lean-toolchain failed. Retrying...
2024-08-31 20:25:32.404 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/dselsam/certigrad/c9a06e93f1ec58196d6d3b8563b29868d916727f/lean-toolchain failed. Retrying...
2024-08-31 20:25:34.418 | INFO     | __main__:search_github_repositories:388 - Failed to clone dselsam/certigrad because of HTTP Error 404: Not Found
2024-08-31 20:25:34.418 | INFO     | __main__:search_github_repositories:372 - Processing Kha/electrolysis
Cloning https://github.com/Kha/electrolysis.git
2024-08-31 20:25:34.418 | INFO     | __main__:search_github_repositories:388 - Failed to clone dselsam/certigrad because of HTTP Error 404: Not Found
Repo name: Kha/electrolysis
2024-08-31 20:25:34.419 | INFO     | __main__:search_github_repositories:372 - Processing Kha/electrolysis
Cloning https://github.com/Kha/electrolysis.git
Repo name: Kha/electrolysis
2024-08-31 20:25:34.443 | INFO     | __main__:search_github_repositories:388 - Failed to clone dselsam/certigrad because of HTTP Error 404: Not Found
2024-08-31 20:25:34.444 | INFO     | __main__:search_github_repositories:372 - Processing Kha/electrolysis
Cloning https://github.com/Kha/electrolysis.git
Repo name: Kha/electrolysis
2024-08-31 20:25:35.018 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/Kha/electrolysis/bd4655d91ca65856fb8373637ce3e7b17ee3a190/lean-toolchain failed. Retrying...
2024-08-31 20:25:35.018 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/Kha/electrolysis/bd4655d91ca65856fb8373637ce3e7b17ee3a190/lean-toolchain failed. Retrying...
2024-08-31 20:25:35.018 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/Kha/electrolysis/bd4655d91ca65856fb8373637ce3e7b17ee3a190/lean-toolchain failed. Retrying...
2024-08-31 20:25:36.056 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/Kha/electrolysis/bd4655d91ca65856fb8373637ce3e7b17ee3a190/lean-toolchain failed. Retrying...
2024-08-31 20:25:36.056 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/Kha/electrolysis/bd4655d91ca65856fb8373637ce3e7b17ee3a190/lean-toolchain failed. Retrying...
2024-08-31 20:25:36.057 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/Kha/electrolysis/bd4655d91ca65856fb8373637ce3e7b17ee3a190/lean-toolchain failed. Retrying...
2024-08-31 20:25:38.082 | INFO     | __main__:search_github_repositories:388 - Failed to clone Kha/electrolysis because of HTTP Error 404: Not Found
2024-08-31 20:25:38.083 | INFO     | __main__:search_github_repositories:372 - Processing ImperialCollegeLondon/formalising-mathematics
Cloning https://github.com/ImperialCollegeLondon/formalising-mathematics.git
Repo name: ImperialCollegeLondon/formalising-mathematics
2024-08-31 20:25:38.084 | INFO     | __main__:search_github_repositories:388 - Failed to clone Kha/electrolysis because of HTTP Error 404: Not Found
2024-08-31 20:25:38.085 | INFO     | __main__:search_github_repositories:372 - Processing ImperialCollegeLondon/formalising-mathematics
Cloning https://github.com/ImperialCollegeLondon/formalising-mathematics.git
Repo name: ImperialCollegeLondon/formalising-mathematics
2024-08-31 20:25:38.095 | INFO     | __main__:search_github_repositories:388 - Failed to clone Kha/electrolysis because of HTTP Error 404: Not Found
2024-08-31 20:25:38.096 | INFO     | __main__:search_github_repositories:372 - Processing ImperialCollegeLondon/formalising-mathematics
Cloning https://github.com/ImperialCollegeLondon/formalising-mathematics.git
Repo name: ImperialCollegeLondon/formalising-mathematics
2024-08-31 20:25:38.751 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/ImperialCollegeLondon/formalising-mathematics/d81ad67e36774eb68f242bcc1b88d33dacfd87bf/lean-toolch
ain failed. Retrying...
2024-08-31 20:25:38.751 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/ImperialCollegeLondon/formalising-mathematics/d81ad67e36774eb68f242bcc1b88d33dacfd87bf/lean-toolch
ain failed. Retrying...
2024-08-31 20:25:38.751 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/ImperialCollegeLondon/formalising-mathematics/d81ad67e36774eb68f242bcc1b88d33dacfd87bf/lean-toolch
ain failed. Retrying...
2024-08-31 20:25:39.776 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/ImperialCollegeLondon/formalising-mathematics/d81ad67e36774eb68f242bcc1b88d33dacfd87bf/lean-toolch
ain failed. Retrying...
2024-08-31 20:25:39.777 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/ImperialCollegeLondon/formalising-mathematics/d81ad67e36774eb68f242bcc1b88d33dacfd87bf/lean-toolch
ain failed. Retrying...
2024-08-31 20:25:39.790 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/ImperialCollegeLondon/formalising-mathematics/d81ad67e36774eb68f242bcc1b88d33dacfd87bf/lean-toolch
ain failed. Retrying...
2024-08-31 20:25:41.815 | INFO     | __main__:search_github_repositories:388 - Failed to clone ImperialCollegeLondon/formalising-mathematics because of HTTP Error 404: Not Found
2024-08-31 20:25:41.816 | INFO     | __main__:search_github_repositories:372 - Processing lecopivo/SciLean
Cloning https://github.com/lecopivo/SciLean.git
Repo name: lecopivo/SciLean
2024-08-31 20:25:41.816 | INFO     | __main__:search_github_repositories:388 - Failed to clone ImperialCollegeLondon/formalising-mathematics because of HTTP Error 404: Not Found
2024-08-31 20:25:41.817 | INFO     | __main__:search_github_repositories:372 - Processing lecopivo/SciLean
Cloning https://github.com/lecopivo/SciLean.git
Repo name: lecopivo/SciLean
2024-08-31 20:25:41.831 | INFO     | __main__:search_github_repositories:388 - Failed to clone ImperialCollegeLondon/formalising-mathematics because of HTTP Error 404: Not Found
2024-08-31 20:25:41.832 | INFO     | __main__:search_github_repositories:372 - Processing lecopivo/SciLean
Cloning https://github.com/lecopivo/SciLean.git
Repo name: lecopivo/SciLean
2024-08-31 20:25:42.428 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc2
2024-08-31 20:25:42.428 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc2
2024-08-31 20:25:42.428 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc2
Found 2 repositories
Using lambda = 0.1
Processing /data/yingzi_ma/lean_project/repos_new/leanprover-community/mathlib4
2024-08-31 20:25:57.682 | INFO     | __main__:retrieve_proof:1008 - Processing https://github.com/leanprover-community/mathlib4.git
2024-08-31 20:25:57.682 | INFO     | __main__:retrieve_proof:1024 - Found compatible commit 2b29e73438e240a427bcecc7c0fe19306beb1310 for https://github.com/leanprover-community/mathlib4.git
2024-08-31 20:25:57.682 | INFO     | __main__:retrieve_proof:1025 - Lean version: v4.8.0
2024-08-31 20:25:57.877 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.8.0
Found 2 repositories
Using lambda = 0.1
Processing /data/yingzi_ma/lean_project/repos_new/leanprover-community/mathlib4
2024-08-31 20:25:57.887 | INFO     | __main__:retrieve_proof:1008 - Processing https://github.com/leanprover-community/mathlib4.git
2024-08-31 20:25:57.887 | INFO     | __main__:retrieve_proof:1024 - Found compatible commit 2b29e73438e240a427bcecc7c0fe19306beb1310 for https://github.com/leanprover-community/mathlib4.git
2024-08-31 20:25:57.887 | INFO     | __main__:retrieve_proof:1025 - Lean version: v4.8.0
2024-08-31 20:25:57.911 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.8.0
Found 2 repositories
Using lambda = 0.1
Processing /data/yingzi_ma/lean_project/repos_new/leanprover-community/mathlib4
2024-08-31 20:25:57.984 | INFO     | __main__:retrieve_proof:1008 - Processing https://github.com/leanprover-community/mathlib4.git
2024-08-31 20:25:57.984 | INFO     | __main__:retrieve_proof:1024 - Found compatible commit 2b29e73438e240a427bcecc7c0fe19306beb1310 for https://github.com/leanprover-community/mathlib4.git
2024-08-31 20:25:57.984 | INFO     | __main__:retrieve_proof:1025 - Lean version: v4.8.0
2024-08-31 20:25:58.023 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.8.0
2024-08-31 20:26:13.197 | INFO     | __main__:retrieve_proof:1030 - Generating benchmark at /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310
2024-08-31 20:26:13.197 | INFO     | generate_benchmark_lean4:main:324 - Generating dataset to go into /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb131
0
2024-08-31 20:26:13.197 | INFO     | generate_benchmark_lean4:main:331 - lean toolchain version: {'content': 'leanprover/lean4:v4.8.0\n'}
2024-08-31 20:26:13.197 | INFO     | generate_benchmark_lean4:main:333 - lean version v: v4.8.0
2024-08-31 20:26:13.197 | INFO     | generate_benchmark_lean4:main:334 - is supported: True
2024-08-31 20:26:13.197 | INFO     | generate_benchmark_lean4:main:344 - lean path1 /data/yingzi_ma/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:26:13.197 | INFO     | generate_benchmark_lean4:main:345 - lean path2 /.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:26:13.198 | INFO     | generate_benchmark_lean4:main:346 - lean path3 ~/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:26:13.199 | INFO     | generate_benchmark_lean4:main:350 - Lean toolchain path 2 does not exist: /.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:26:13.200 | INFO     | generate_benchmark_lean4:main:352 - Lean toolchain path 3 does not exist: ~/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:26:13.200 | INFO     | generate_benchmark_lean4:main:355 - Switched to Lean toolchain at: /data/yingzi_ma/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:26:13.236 | INFO     | __main__:retrieve_proof:1030 - Generating benchmark at /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310
2024-08-31 20:26:13.236 | INFO     | generate_benchmark_lean4:main:324 - Generating dataset to go into /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb131
0
2024-08-31 20:26:13.236 | INFO     | generate_benchmark_lean4:main:331 - lean toolchain version: {'content': 'leanprover/lean4:v4.8.0\n'}
2024-08-31 20:26:13.236 | INFO     | generate_benchmark_lean4:main:333 - lean version v: v4.8.0
2024-08-31 20:26:13.236 | INFO     | generate_benchmark_lean4:main:334 - is supported: True
2024-08-31 20:26:13.236 | INFO     | generate_benchmark_lean4:main:344 - lean path1 /data/yingzi_ma/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:26:13.236 | INFO     | generate_benchmark_lean4:main:345 - lean path2 /.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:26:13.236 | INFO     | generate_benchmark_lean4:main:346 - lean path3 ~/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:26:13.236 | INFO     | generate_benchmark_lean4:main:350 - Lean toolchain path 2 does not exist: /.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:26:13.237 | INFO     | generate_benchmark_lean4:main:352 - Lean toolchain path 3 does not exist: ~/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:26:13.237 | INFO     | generate_benchmark_lean4:main:355 - Switched to Lean toolchain at: /data/yingzi_ma/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:26:13.243 | INFO     | generate_benchmark_lean4:main:357 - lean --version: Lean (version 4.8.0, x86_64-unknown-linux-gnu, commit df668f00e6c0, Release)

2024-08-31 20:26:13.243 | INFO     | generate_benchmark_lean4:main:358 - repo: LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2b29e73438e240a427bcecc7c0fe19306beb1310')
2024-08-31 20:26:13.243 | INFO     | generate_benchmark_lean4:main:360 - Configuring LeanDojo again...
2024-08-31 20:26:13.250 | INFO     | generate_benchmark_lean4:configure_leandojo:317 - Current working directory: /data/yingzi_ma/lean_project/ReProver
2024-08-31 20:26:13.250 | INFO     | generate_benchmark_lean4:main:362 - LeanDojo configured
2024-08-31 20:26:13.250 | INFO     | generate_benchmark_lean4:main:365 - Tracing the repo...
2024-08-31 20:26:13.253 | DEBUG    | lean_dojo.data_extraction.trace:get_traced_repo_path:87 - The traced repo is available in the cache.
2024-08-31 20:26:13.253 | INFO     | lean_dojo.data_extraction.trace:trace:116 - Loading the traced repo from /data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathlib4-2b29e73438e240a427bcecc7c
0fe19306beb1310/mathlib4
2024-08-31 20:26:13.277 | INFO     | generate_benchmark_lean4:main:357 - lean --version: Lean (version 4.8.0, x86_64-unknown-linux-gnu, commit df668f00e6c0, Release)

2024-08-31 20:26:13.277 | INFO     | generate_benchmark_lean4:main:358 - repo: LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2b29e73438e240a427bcecc7c0fe19306beb1310')
2024-08-31 20:26:13.277 | INFO     | generate_benchmark_lean4:main:360 - Configuring LeanDojo again...
2024-08-31 20:26:13.280 | INFO     | generate_benchmark_lean4:configure_leandojo:317 - Current working directory: /data/yingzi_ma/lean_project/ReProver
2024-08-31 20:26:13.280 | INFO     | generate_benchmark_lean4:main:362 - LeanDojo configured
2024-08-31 20:26:13.280 | INFO     | generate_benchmark_lean4:main:365 - Tracing the repo...
2024-08-31 20:26:13.282 | DEBUG    | lean_dojo.data_extraction.trace:get_traced_repo_path:87 - The traced repo is available in the cache.
2024-08-31 20:26:13.282 | INFO     | lean_dojo.data_extraction.trace:trace:116 - Loading the traced repo from /data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathlib4-2b29e73438e240a427bcecc7c
0fe19306beb1310/mathlib4
2024-08-31 20:26:13.449 | INFO     | __main__:retrieve_proof:1030 - Generating benchmark at /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310
2024-08-31 20:26:13.449 | INFO     | generate_benchmark_lean4:main:324 - Generating dataset to go into /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb131
0
2024-08-31 20:26:13.449 | INFO     | generate_benchmark_lean4:main:331 - lean toolchain version: {'content': 'leanprover/lean4:v4.8.0\n'}
2024-08-31 20:26:13.449 | INFO     | generate_benchmark_lean4:main:333 - lean version v: v4.8.0
2024-08-31 20:26:13.449 | INFO     | generate_benchmark_lean4:main:334 - is supported: True
2024-08-31 20:26:13.449 | INFO     | generate_benchmark_lean4:main:344 - lean path1 /data/yingzi_ma/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:26:13.450 | INFO     | generate_benchmark_lean4:main:345 - lean path2 /.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:26:13.450 | INFO     | generate_benchmark_lean4:main:346 - lean path3 ~/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:26:13.450 | INFO     | generate_benchmark_lean4:main:350 - Lean toolchain path 2 does not exist: /.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:26:13.450 | INFO     | generate_benchmark_lean4:main:352 - Lean toolchain path 3 does not exist: ~/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:26:13.450 | INFO     | generate_benchmark_lean4:main:355 - Switched to Lean toolchain at: /data/yingzi_ma/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 20:26:13.506 | INFO     | generate_benchmark_lean4:main:357 - lean --version: Lean (version 4.8.0, x86_64-unknown-linux-gnu, commit df668f00e6c0, Release)

2024-08-31 20:26:13.506 | INFO     | generate_benchmark_lean4:main:358 - repo: LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2b29e73438e240a427bcecc7c0fe19306beb1310')
2024-08-31 20:26:13.506 | INFO     | generate_benchmark_lean4:main:360 - Configuring LeanDojo again...
2024-08-31 20:26:13.509 | INFO     | generate_benchmark_lean4:configure_leandojo:317 - Current working directory: /data/yingzi_ma/lean_project/ReProver
2024-08-31 20:26:13.509 | INFO     | generate_benchmark_lean4:main:362 - LeanDojo configured
2024-08-31 20:26:13.510 | INFO     | generate_benchmark_lean4:main:365 - Tracing the repo...
2024-08-31 20:26:13.511 | DEBUG    | lean_dojo.data_extraction.trace:get_traced_repo_path:87 - The traced repo is available in the cache.
2024-08-31 20:26:13.511 | INFO     | lean_dojo.data_extraction.trace:trace:116 - Loading the traced repo from /data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathlib4-2b29e73438e240a427bcecc7c
0fe19306beb1310/mathlib4
2024-08-31 20:26:17.811 | DEBUG    | lean_dojo.data_extraction.traced_data:load_from_disk:1123 - Loading 5514 traced XML files from /data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathlib4-2b2
9e73438e240a427bcecc7c0fe19306beb1310/mathlib4 with 31 workers
2024-08-31 20:26:17.812 | DEBUG    | lean_dojo.data_extraction.traced_data:load_from_disk:1123 - Loading 5514 traced XML files from /data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathlib4-2b2
9e73438e240a427bcecc7c0fe19306beb1310/mathlib4 with 31 workers
2024-08-31 20:26:17.812 | DEBUG    | lean_dojo.data_extraction.traced_data:load_from_disk:1123 - Loading 5514 traced XML files from /data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathlib4-2b2
9e73438e240a427bcecc7c0fe19306beb1310/mathlib4 with 31 workers
100%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 5514/5514 [12:41<00:00,  7.2
4it/s]
2024-08-31 20:38:59.493 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2b29e73438e240a
427bcecc7c0fe19306beb1310')
100%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 5514/5514 [12:42<00:00,  7.2
3it/s]
2024-08-31 20:39:00.597 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2b29e73438e240a
427bcecc7c0fe19306beb1310')
 87%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████▋                      | 4816/5514 [12:42<00:33, 20.6
9it/s]2024-08-31 20:39:00.881 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.6.0-rc1
 88%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████▍                     | 4840/5514 [12:43<00:30, 22.2
6it/s]2024-08-31 20:39:01.778 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.6.0-rc1
 94%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████▏         | 5206/5514 [12:59<00:21, 14.0
0it/s]2024-08-31 20:39:17.432 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.8.0-rc1
 95%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████▎        | 5243/5514 [13:00<00:04, 58.9
5it/s]2024-08-31 20:39:18.171 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.8.0-rc1
100%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 5514/5514 [13:10<00:00,  6.9
8it/s]
2024-08-31 20:39:28.198 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2b29e73438e240a
427bcecc7c0fe19306beb1310')
2024-08-31 20:39:29.426 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.6.0-rc1
2024-08-31 20:39:33.332 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.7.0
2024-08-31 20:39:34.033 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.7.0
2024-08-31 20:39:45.537 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.8.0-rc1
2024-08-31 20:39:48.933 | DEBUG    | lean_dojo.data_extraction.lean:url_to_repo:70 - url_to_repo("https://github.com/leanprover-community/import-graph.git") failed. Retrying...
2024-08-31 20:39:49.589 | DEBUG    | lean_dojo.data_extraction.lean:url_to_repo:70 - url_to_repo("https://github.com/leanprover-community/import-graph.git") failed. Retrying...
2024-08-31 20:39:50.052 | DEBUG    | lean_dojo.data_extraction.lean:url_to_repo:70 - url_to_repo("https://github.com/leanprover-community/import-graph.git") failed. Retrying...
2024-08-31 20:39:50.724 | DEBUG    | lean_dojo.data_extraction.lean:url_to_repo:70 - url_to_repo("https://github.com/leanprover-community/import-graph.git") failed. Retrying...
2024-08-31 20:39:52.624 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for doc-gen4 main
2024-08-31 20:39:53.267 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for batteries main
2024-08-31 20:39:53.328 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for doc-gen4 main
2024-08-31 20:39:53.790 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for batteries main
2024-08-31 20:40:01.527 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.7.0
2024-08-31 20:40:02.832 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for quote4 master
2024-08-31 20:40:03.180 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for quote4 master
2024-08-31 20:40:03.299 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.10.0
2024-08-31 20:40:03.618 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.10.0
2024-08-31 20:40:17.139 | DEBUG    | lean_dojo.data_extraction.lean:url_to_repo:70 - url_to_repo("https://github.com/leanprover-community/import-graph.git") failed. Retrying...
2024-08-31 20:40:18.269 | DEBUG    | lean_dojo.data_extraction.lean:url_to_repo:70 - url_to_repo("https://github.com/leanprover-community/import-graph.git") failed. Retrying...
2024-08-31 20:40:18.561 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for aesop master
2024-08-31 20:40:18.847 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for aesop master
2024-08-31 20:40:19.650 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc1
2024-08-31 20:40:19.744 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc1
2024-08-31 20:40:20.823 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for doc-gen4 main
2024-08-31 20:40:21.249 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for batteries main
2024-08-31 20:40:30.544 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for quote4 master
2024-08-31 20:40:30.954 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.10.0
2024-08-31 20:40:34.986 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for ProofWidgets4 v0.0.36
2024-08-31 20:40:35.155 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for ProofWidgets4 v0.0.36
2024-08-31 20:40:35.847 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4-cli main
2024-08-31 20:40:36.055 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4-cli main
2024-08-31 20:40:36.461 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.9.0
2024-08-31 20:40:36.555 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.9.0
2024-08-31 20:40:46.093 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for aesop master
2024-08-31 20:40:46.927 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc1
2024-08-31 20:40:52.034 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for import-graph main
2024-08-31 20:40:52.340 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for import-graph main
2024-08-31 20:40:52.631 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover/doc-gen4', commit='83f718b9055972dce4f92f5b3
917426b91a0d2fe')
2024-08-31 20:40:52.802 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover/doc-gen4', commit='83f718b9055972dce4f92f5b3
917426b91a0d2fe')
2024-08-31 20:40:53.236 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.9.0-rc1
2024-08-31 20:40:53.236 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.9.0-rc1
2024-08-31 20:41:02.115 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for ProofWidgets4 v0.0.36
2024-08-31 20:41:02.928 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4-cli main
2024-08-31 20:41:03.405 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.9.0
Following Github server redirection from /repos/mhuisi/lean4-cli to /repositories/341363356
Following Github server redirection from /repos/mhuisi/lean4-cli to /repositories/341363356
2024-08-31 20:41:10.131 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4-nightly nightly-2024-06-05
2024-08-31 20:41:10.130 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4-nightly nightly-2024-06-05
2024-08-31 20:41:11.590 | WARNING  | lean_dojo.data_extraction.lean:__post_init__:446 - LeanGitRepo(url='https://github.com/mhuisi/lean4-cli', commit='bf066c328bcff19aa93adf4d24c4e896c0d4eaca') relies on an unsu
pported Lean version: fbb3055f82ff9a4bc82f6722f6e73225617342fd
2024-08-31 20:41:11.590 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/batteries', commit='a7fd140a94bbbf
a40cf10839227bbb9e8492be2d')
2024-08-31 20:41:11.692 | WARNING  | lean_dojo.data_extraction.lean:__post_init__:446 - LeanGitRepo(url='https://github.com/mhuisi/lean4-cli', commit='bf066c328bcff19aa93adf4d24c4e896c0d4eaca') relies on an unsu
pported Lean version: fbb3055f82ff9a4bc82f6722f6e73225617342fd
2024-08-31 20:41:11.692 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/batteries', commit='a7fd140a94bbbf
a40cf10839227bbb9e8492be2d')
2024-08-31 20:41:11.763 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/quote4', commit='d38fb94558af9957b
8f479e350841ce65a1ec42c')
2024-08-31 20:41:11.763 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/quote4', commit='d38fb94558af9957b
8f479e350841ce65a1ec42c')
2024-08-31 20:41:11.943 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/aesop', commit='6c89b6765913a0d727
c1066493c3f5dc51c9713e')
2024-08-31 20:41:11.943 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/aesop', commit='6c89b6765913a0d727
c1066493c3f5dc51c9713e')
2024-08-31 20:41:12.276 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/ProofWidgets4', commit='e6b6247c61
280c77ade6bbf0bc3c66a44fe2e0c5')
2024-08-31 20:41:12.276 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/ProofWidgets4', commit='e6b6247c61
280c77ade6bbf0bc3c66a44fe2e0c5')
2024-08-31 20:41:12.643 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover/lean4-cli', commit='2cf1030dc2ae6b3632c84a09
350b675ef3e347d0')
2024-08-31 20:41:12.644 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover/lean4-cli', commit='2cf1030dc2ae6b3632c84a09
350b675ef3e347d0')
2024-08-31 20:41:12.847 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/import-graph', commit='0a756018b73
6ef4f4bc3c9a45fc03cf97a0b1a0c')
2024-08-31 20:41:12.848 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/import-graph', commit='0a756018b73
6ef4f4bc3c9a45fc03cf97a0b1a0c')
2024-08-31 20:41:19.908 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for import-graph main
2024-08-31 20:41:20.359 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover/doc-gen4', commit='83f718b9055972dce4f92f5b3
917426b91a0d2fe')
2024-08-31 20:41:20.767 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.9.0-rc1
2024-08-31 20:41:36.958 | DEBUG    | lean_dojo.data_extraction.traced_data:check_sanity:1009 - Checking the sanity of TracedRepo(repo=LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2
b29e73438e240a427bcecc7c0fe19306beb1310'), dependencies={'lean4': LeanGitRepo(url='https://github.com/leanprover/lean4', commit='daa22187642d4cf6954c39a23eab20d8a8675416'), 'batteries': LeanGitRepo(url='https://
github.com/leanprover-community/batteries', commit='021e272cb5cdcc82b7e1e760fe915ff2f64169ad'), 'Qq': LeanGitRepo(url='https://github.com/leanprover-community/quote4', commit='53156671405fbbd5402ed17a79bd129b961
bd8d6'), 'aesop': LeanGitRepo(url='https://github.com/leanprover-community/aesop', commit='53ba96ad7666d4a2515292974631629b5ea5dfee'), 'proofwidgets': LeanGitRepo(url='https://github.com/leanprover-community/Pro
ofWidgets4', commit='e6b6247c61280c77ade6bbf0bc3c66a44fe2e0c5'), 'Cli': LeanGitRepo(url='https://github.com/leanprover/lean4-cli', commit='2cf1030dc2ae6b3632c84a09350b675ef3e347d0'), '«doc-gen4»': LeanGitRepo(ur
l='https://github.com/leanprover/doc-gen4', commit='83f718b9055972dce4f92f5b3917426b91a0d2fe'), 'MD4Lean': LeanGitRepo(url='https://github.com/acmepjz/md4lean', commit='5e95f4776be5e048364f325c7e9d619bb56fb005')
, 'UnicodeBasic': LeanGitRepo(url='https://github.com/fgdorais/lean4-unicode-basic', commit='9447739fe9714f8a091192bad5cd5e7b5a8ae1e4'), 'BibtexQuery': LeanGitRepo(url='https://github.com/dupuisf/BibtexQuery', c
ommit='c138ab5c566c4268798b24bfcbea2f4c42413cdd'), 'importGraph': LeanGitRepo(url='https://github.com/leanprover-community/import-graph', commit='0a756018b736ef4f4bc3c9a45fc03cf97a0b1a0c')}, root_dir=PosixPath('
/data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathlib4-2b29e73438e240a427bcecc7c0fe19306beb1310/mathlib4'))
Following Github server redirection from /repos/mhuisi/lean4-cli to /repositories/341363356
2024-08-31 20:41:37.904 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4-nightly nightly-2024-06-05
2024-08-31 20:41:39.545 | WARNING  | lean_dojo.data_extraction.lean:__post_init__:446 - LeanGitRepo(url='https://github.com/mhuisi/lean4-cli', commit='bf066c328bcff19aa93adf4d24c4e896c0d4eaca') relies on an unsu
pported Lean version: fbb3055f82ff9a4bc82f6722f6e73225617342fd
2024-08-31 20:41:39.546 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/batteries', commit='a7fd140a94bbbf
a40cf10839227bbb9e8492be2d')
2024-08-31 20:41:39.576 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/quote4', commit='d38fb94558af9957b
8f479e350841ce65a1ec42c')
2024-08-31 20:41:39.604 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/aesop', commit='6c89b6765913a0d727
c1066493c3f5dc51c9713e')
2024-08-31 20:41:39.664 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/ProofWidgets4', commit='e6b6247c61
280c77ade6bbf0bc3c66a44fe2e0c5')
2024-08-31 20:41:39.727 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover/lean4-cli', commit='2cf1030dc2ae6b3632c84a09
350b675ef3e347d0')
2024-08-31 20:41:39.756 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/import-graph', commit='0a756018b73
6ef4f4bc3c9a45fc03cf97a0b1a0c')
2024-08-31 20:41:48.970 | DEBUG    | lean_dojo.data_extraction.traced_data:check_sanity:1009 - Checking the sanity of TracedRepo(repo=LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2
b29e73438e240a427bcecc7c0fe19306beb1310'), dependencies={'lean4': LeanGitRepo(url='https://github.com/leanprover/lean4', commit='daa22187642d4cf6954c39a23eab20d8a8675416'), 'batteries': LeanGitRepo(url='https://
github.com/leanprover-community/batteries', commit='021e272cb5cdcc82b7e1e760fe915ff2f64169ad'), 'Qq': LeanGitRepo(url='https://github.com/leanprover-community/quote4', commit='53156671405fbbd5402ed17a79bd129b961
bd8d6'), 'aesop': LeanGitRepo(url='https://github.com/leanprover-community/aesop', commit='53ba96ad7666d4a2515292974631629b5ea5dfee'), 'proofwidgets': LeanGitRepo(url='https://github.com/leanprover-community/Pro
ofWidgets4', commit='e6b6247c61280c77ade6bbf0bc3c66a44fe2e0c5'), 'Cli': LeanGitRepo(url='https://github.com/leanprover/lean4-cli', commit='2cf1030dc2ae6b3632c84a09350b675ef3e347d0'), '«doc-gen4»': LeanGitRepo(ur
l='https://github.com/leanprover/doc-gen4', commit='83f718b9055972dce4f92f5b3917426b91a0d2fe'), 'MD4Lean': LeanGitRepo(url='https://github.com/acmepjz/md4lean', commit='5e95f4776be5e048364f325c7e9d619bb56fb005')
, 'UnicodeBasic': LeanGitRepo(url='https://github.com/fgdorais/lean4-unicode-basic', commit='9447739fe9714f8a091192bad5cd5e7b5a8ae1e4'), 'BibtexQuery': LeanGitRepo(url='https://github.com/dupuisf/BibtexQuery', c
ommit='c138ab5c566c4268798b24bfcbea2f4c42413cdd'), 'importGraph': LeanGitRepo(url='https://github.com/leanprover-community/import-graph', commit='0a756018b736ef4f4bc3c9a45fc03cf97a0b1a0c')}, root_dir=PosixPath('
/data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathlib4-2b29e73438e240a427bcecc7c0fe19306beb1310/mathlib4'))
2024-08-31 20:42:04.165 | DEBUG    | lean_dojo.data_extraction.traced_data:check_sanity:1009 - Checking the sanity of TracedRepo(repo=LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2
b29e73438e240a427bcecc7c0fe19306beb1310'), dependencies={'lean4': LeanGitRepo(url='https://github.com/leanprover/lean4', commit='daa22187642d4cf6954c39a23eab20d8a8675416'), 'batteries': LeanGitRepo(url='https://
github.com/leanprover-community/batteries', commit='021e272cb5cdcc82b7e1e760fe915ff2f64169ad'), 'Qq': LeanGitRepo(url='https://github.com/leanprover-community/quote4', commit='53156671405fbbd5402ed17a79bd129b961
bd8d6'), 'aesop': LeanGitRepo(url='https://github.com/leanprover-community/aesop', commit='53ba96ad7666d4a2515292974631629b5ea5dfee'), 'proofwidgets': LeanGitRepo(url='https://github.com/leanprover-community/Pro
ofWidgets4', commit='e6b6247c61280c77ade6bbf0bc3c66a44fe2e0c5'), 'Cli': LeanGitRepo(url='https://github.com/leanprover/lean4-cli', commit='2cf1030dc2ae6b3632c84a09350b675ef3e347d0'), '«doc-gen4»': LeanGitRepo(ur
l='https://github.com/leanprover/doc-gen4', commit='83f718b9055972dce4f92f5b3917426b91a0d2fe'), 'MD4Lean': LeanGitRepo(url='https://github.com/acmepjz/md4lean', commit='5e95f4776be5e048364f325c7e9d619bb56fb005')
, 'UnicodeBasic': LeanGitRepo(url='https://github.com/fgdorais/lean4-unicode-basic', commit='9447739fe9714f8a091192bad5cd5e7b5a8ae1e4'), 'BibtexQuery': LeanGitRepo(url='https://github.com/dupuisf/BibtexQuery', c
ommit='c138ab5c566c4268798b24bfcbea2f4c42413cdd'), 'importGraph': LeanGitRepo(url='https://github.com/leanprover-community/import-graph', commit='0a756018b736ef4f4bc3c9a45fc03cf97a0b1a0c')}, root_dir=PosixPath('
/data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathlib4-2b29e73438e240a427bcecc7c0fe19306beb1310/mathlib4'))
2024-08-31 20:42:05.960 | INFO     | generate_benchmark_lean4:main:367 - Successfully traced the repo
2024-08-31 20:42:05.961 | WARNING  | generate_benchmark_lean4:main:372 - /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310 already exists. Using it ins
tead.
2024-08-31 20:42:05.961 | INFO     | __main__:retrieve_proof:1038 - Finished generating benchmark at /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310
2024-08-31 20:42:16.686 | INFO     | dynamic_database:add_repository:583 - Attempting to add repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 20:42:16.687 | INFO     | dynamic_database:add_repository:586 - Added new repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 49162.7
1it/s]
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 50289.7
7it/s]
 17%|████████████████████████████▌                                                                                                                                             | 19562/116251 [00:00<00:01, 48439.7
9it/s]2024-08-31 20:42:23.915 | INFO     | generate_benchmark_lean4:main:367 - Successfully traced the repo
2024-08-31 20:42:23.916 | WARNING  | generate_benchmark_lean4:main:372 - /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310 already exists. Using it ins
tead.
2024-08-31 20:42:23.916 | INFO     | __main__:retrieve_proof:1038 - Finished generating benchmark at /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310
2024-08-31 20:42:33.273 | INFO     | generate_benchmark_lean4:main:367 - Successfully traced the repo
2024-08-31 20:42:33.274 | WARNING  | generate_benchmark_lean4:main:372 - /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310 already exists. Using it ins
tead.
2024-08-31 20:42:33.274 | INFO     | __main__:retrieve_proof:1038 - Finished generating benchmark at /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310
2024-08-31 20:42:40.903 | INFO     | dynamic_database:add_repository:583 - Attempting to add repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 20:42:40.903 | INFO     | dynamic_database:add_repository:586 - Added new repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 32066.7
3it/s]
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 33638.8
0it/s]
2024-08-31 20:42:43.919 | INFO     | dynamic_database:add_repository:583 - Attempting to add repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 20:42:43.920 | INFO     | dynamic_database:add_repository:586 - Added new repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 48385.4
4it/s]
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 50738.5
6it/s]
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 116251/116251 [01:44<00:00, 1108.8
1it/s]
2024-08-31 20:44:05.568 | INFO     | __main__:retrieve_proof:1076 - Before adding new repo:
2024-08-31 20:44:05.569 | INFO     | dynamic_database:print_database_contents:607 - Current database contents:
2024-08-31 20:44:05.569 | INFO     | dynamic_database:print_database_contents:609 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 20:44:05.569 | INFO     | dynamic_database:add_repository:583 - Attempting to add repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 20:44:05.569 | INFO     | dynamic_database:add_repository:588 - Repository 'https://github.com/leanprover-community/mathlib4' with commit '2b29e73438e240a427bcecc7c0fe19306beb1310' already exists in t
he database.
2024-08-31 20:44:05.569 | INFO     | __main__:retrieve_proof:1079 - After adding new repo:
2024-08-31 20:44:05.569 | INFO     | dynamic_database:print_database_contents:607 - Current database contents:
2024-08-31 20:44:05.569 | INFO     | dynamic_database:print_database_contents:609 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 20:44:18.955 | INFO     | __main__:retrieve_proof:1088 - Adding repo to repos_for_merged_dataset
2024-08-31 20:44:18.956 | INFO     | dynamic_database:generate_merged_dataset:399 - Merging selected repositories in the database:
2024-08-31 20:44:18.957 | INFO     | dynamic_database:generate_merged_dataset:401 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 116251/116251 [01:44<00:00, 1115.7
8it/s]
2024-08-31 20:44:32.055 | INFO     | __main__:retrieve_proof:1076 - Before adding new repo:
2024-08-31 20:44:32.055 | INFO     | dynamic_database:print_database_contents:607 - Current database contents:
2024-08-31 20:44:32.055 | INFO     | dynamic_database:print_database_contents:609 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 20:44:32.055 | INFO     | dynamic_database:add_repository:583 - Attempting to add repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 20:44:32.055 | INFO     | dynamic_database:add_repository:588 - Repository 'https://github.com/leanprover-community/mathlib4' with commit '2b29e73438e240a427bcecc7c0fe19306beb1310' already exists in t
he database.
2024-08-31 20:44:32.055 | INFO     | __main__:retrieve_proof:1079 - After adding new repo:
2024-08-31 20:44:32.055 | INFO     | dynamic_database:print_database_contents:607 - Current database contents:
2024-08-31 20:44:32.056 | INFO     | dynamic_database:print_database_contents:609 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 116251/116251 [01:54<00:00, 1019.1
5it/s]
2024-08-31 20:44:41.275 | INFO     | __main__:retrieve_proof:1076 - Before adding new repo:
2024-08-31 20:44:41.275 | INFO     | dynamic_database:print_database_contents:607 - Current database contents:
2024-08-31 20:44:41.275 | INFO     | dynamic_database:print_database_contents:609 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 20:44:41.275 | INFO     | dynamic_database:add_repository:583 - Attempting to add repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 20:44:41.275 | INFO     | dynamic_database:add_repository:588 - Repository 'https://github.com/leanprover-community/mathlib4' with commit '2b29e73438e240a427bcecc7c0fe19306beb1310' already exists in t
he database.
2024-08-31 20:44:41.275 | INFO     | __main__:retrieve_proof:1079 - After adding new repo:
2024-08-31 20:44:41.275 | INFO     | dynamic_database:print_database_contents:607 - Current database contents:
2024-08-31 20:44:41.276 | INFO     | dynamic_database:print_database_contents:609 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 20:44:45.726 | INFO     | __main__:retrieve_proof:1088 - Adding repo to repos_for_merged_dataset
2024-08-31 20:44:45.727 | INFO     | dynamic_database:generate_merged_dataset:399 - Merging selected repositories in the database:
2024-08-31 20:44:45.727 | INFO     | dynamic_database:generate_merged_dataset:401 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 20:45:04.100 | INFO     | __main__:retrieve_proof:1088 - Adding repo to repos_for_merged_dataset
2024-08-31 20:45:04.103 | INFO     | dynamic_database:generate_merged_dataset:399 - Merging selected repositories in the database:
2024-08-31 20:45:04.103 | INFO     | dynamic_database:generate_merged_dataset:401 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 20:46:45.504 | WARNING  | dynamic_database:generate_merged_dataset:418 - /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310 a
lready exists. Removing it now.
2024-08-31 20:47:08.425 | INFO     | dynamic_database:generate_merged_dataset:422 - Exported proofs to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc
7c0fe19306beb1310
2024-08-31 20:47:09.027 | INFO     | dynamic_database:generate_merged_dataset:425 - Merged and exported corpus to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e2
40a427bcecc7c0fe19306beb1310
2024-08-31 20:47:09.042 | INFO     | dynamic_database:generate_merged_dataset:428 - Exported traced files to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a42
7bcecc7c0fe19306beb1310
2024-08-31 20:47:09.045 | INFO     | dynamic_database:generate_merged_dataset:431 - Exported metadata to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310
2024-08-31 20:47:09.069 | INFO     | __main__:find_latest_checkpoint:455 - Using the latest checkpoint: /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069
194c5.ckpt
2024-08-31 20:47:09.069 | INFO     | __main__:retrieve_proof:1100 - Found latest checkpoint: /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.ckpt
2024-08-31 20:47:09.069 | INFO     | __main__:train_test_fisher:595 - Inside train_test_fisher
2024-08-31 20:47:09.069 | INFO     | __main__:train_test_fisher:596 - Starting training at epoch 0
[rank: 3] Seed set to 3407
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/lightning_fabric/utilities/cloud_io.py:57: You are using `torch.load` with `weights_only=False` (the current default value), which uses the d
efault pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-mode
ls for more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be
allowed to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don
't have full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.
Lightning automatically upgraded your loaded checkpoint from v0.0.0 to v2.2.4. To apply the upgrade to your files permanently, run `python -m pytorch_lightning.utilities.upgrade_checkpoint ../checkpoints_PT_sing
le_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.ckpt`
2024-08-31 20:47:13.875 | INFO     | __main__:train_test_fisher:620 - Loaded premise retriever at /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.
ckpt and reset epoch count
2024-08-31 20:47:13.876 | INFO     | __main__:find_latest_fisher:465 - Using the latest Fisher Information Matrix: /data/yingzi_ma/lean_project/fisher_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68
bbe069194c5_fisher_info.pkl
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/torch/storage.py:414: FutureWarning: You are using `torch.load` with `weights_only=False` (the current default value), which uses the default
 pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-models for
 more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be allowe
d to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don't hav
e full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.
  return torch.load(io.BytesIO(b))
2024-08-31 20:47:14.921 | INFO     | __main__:load_fisher_information:442 - Fisher Information successfully loaded.
2024-08-31 20:47:14.921 | INFO     | retrieval.model:set_fisher_info:62 - Fisher Information has been updated in the model.
2024-08-31 20:47:14.921 | INFO     | __main__:train_test_fisher:626 - Fisher Information Matrix loaded.
Data path: /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310/random
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/transformers/tokenization_utils_base.py:1601: FutureWarning: `clean_up_tokenization_spaces` was not set. It will be set to `True` by default.
 This behavior will be depracted in transformers v4.45, and will be then set to `False` by default. For more details check this issue: https://github.com/huggingface/transformers/issues/31884
  warnings.warn(
2024-08-31 20:47:15.028 | INFO     | common:__init__:208 - Building the corpus from /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310/c
orpus.jsonl
2024-08-31 20:47:25.181 | WARNING  | dynamic_database:generate_merged_dataset:418 - /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310 a
lready exists. Removing it now.
2024-08-31 20:47:36.561 | INFO     | __main__:main:1234 - An error occurred: Expecting value: line 6839037 column 25 (char 360176199)
Traceback (most recent call last):
  File "/data/yingzi_ma/lean_project/ReProver/main2.py", line 1214, in main
    proofs = retrieve_proof(run_progressive_training, use_fisher, single_repo, dynamic_database_json_path, lean_git_repo, repo_no_dir, lean_git_repo.commit, lambda_value, current_epoch, epochs_per_repo)
  File "/data/yingzi_ma/lean_project/ReProver/main2.py", line 1106, in retrieve_proof
    train_test_fisher(model_checkpoint_path, dst_dir, lambda_value, current_epoch, use_fisher, epochs_per_repo)
  File "/data/yingzi_ma/lean_project/ReProver/main2.py", line 645, in train_test_fisher
    data_module.setup(stage='fit')
  File "/data/yingzi_ma/lean_project/ReProver/retrieval/datamodule.py", line 251, in setup
    self.ds_train = RetrievalDataset(
  File "/data/yingzi_ma/lean_project/ReProver/retrieval/datamodule.py", line 43, in __init__
    self.data = self.load_or_cache_data(data_paths)
  File "/data/yingzi_ma/lean_project/ReProver/retrieval/datamodule.py", line 54, in load_or_cache_data
    data = list(itertools.chain.from_iterable(self._load_data(path) for path in data_paths))
  File "/data/yingzi_ma/lean_project/ReProver/retrieval/datamodule.py", line 54, in <genexpr>
    data = list(itertools.chain.from_iterable(self._load_data(path) for path in data_paths))
  File "/data/yingzi_ma/lean_project/ReProver/retrieval/datamodule.py", line 67, in _load_data
    for thm in tqdm(json.load(open(data_path))):
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/json/__init__.py", line 293, in load
    return loads(fp.read(),
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 6839037 column 25 (char 360176199)
2024-08-31 20:47:48.547 | INFO     | dynamic_database:generate_merged_dataset:422 - Exported proofs to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc
7c0fe19306beb1310
2024-08-31 20:47:49.156 | INFO     | dynamic_database:generate_merged_dataset:425 - Merged and exported corpus to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e2
40a427bcecc7c0fe19306beb1310
2024-08-31 20:47:49.171 | INFO     | dynamic_database:generate_merged_dataset:428 - Exported traced files to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a42
7bcecc7c0fe19306beb1310
2024-08-31 20:47:49.174 | INFO     | dynamic_database:generate_merged_dataset:431 - Exported metadata to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310
2024-08-31 20:47:49.197 | INFO     | __main__:find_latest_checkpoint:455 - Using the latest checkpoint: /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069
194c5.ckpt
2024-08-31 20:47:49.197 | INFO     | __main__:retrieve_proof:1100 - Found latest checkpoint: /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.ckpt
2024-08-31 20:47:49.197 | INFO     | __main__:train_test_fisher:595 - Inside train_test_fisher
2024-08-31 20:47:49.197 | INFO     | __main__:train_test_fisher:596 - Starting training at epoch 0
[rank: 2] Seed set to 3407
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/lightning_fabric/utilities/cloud_io.py:57: You are using `torch.load` with `weights_only=False` (the current default value), which uses the d
efault pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-mode
ls for more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be
allowed to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don
't have full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.
Lightning automatically upgraded your loaded checkpoint from v0.0.0 to v2.2.4. To apply the upgrade to your files permanently, run `python -m pytorch_lightning.utilities.upgrade_checkpoint ../checkpoints_PT_sing
le_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.ckpt`
2024-08-31 20:47:53.084 | INFO     | __main__:train_test_fisher:620 - Loaded premise retriever at /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.
ckpt and reset epoch count
2024-08-31 20:47:53.085 | INFO     | __main__:find_latest_fisher:465 - Using the latest Fisher Information Matrix: /data/yingzi_ma/lean_project/fisher_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68
bbe069194c5_fisher_info.pkl
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/torch/storage.py:414: FutureWarning: You are using `torch.load` with `weights_only=False` (the current default value), which uses the default
 pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-models for
 more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be allowe
d to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don't hav
e full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.
  return torch.load(io.BytesIO(b))
2024-08-31 20:47:53.928 | INFO     | __main__:load_fisher_information:442 - Fisher Information successfully loaded.
2024-08-31 20:47:53.929 | INFO     | retrieval.model:set_fisher_info:62 - Fisher Information has been updated in the model.
2024-08-31 20:47:53.929 | INFO     | __main__:train_test_fisher:626 - Fisher Information Matrix loaded.
Data path: /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310/random
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/transformers/tokenization_utils_base.py:1601: FutureWarning: `clean_up_tokenization_spaces` was not set. It will be set to `True` by default.
 This behavior will be depracted in transformers v4.45, and will be then set to `False` by default. For more details check this issue: https://github.com/huggingface/transformers/issues/31884
  warnings.warn(
2024-08-31 20:47:54.119 | INFO     | common:__init__:208 - Building the corpus from /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310/c
orpus.jsonl
2024-08-31 20:48:13.943 | WARNING  | dynamic_database:generate_merged_dataset:418 - /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310 a
lready exists. Removing it now.
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 116251/116251 [00:17<00:00, 6502.8
4it/s]
2024-08-31 20:48:35.466 | INFO     | retrieval.datamodule:load_or_cache_data:61 - Saved loaded data to cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a42
7bcecc7c0fe19306beb1310/random/cache_train/cached_data.pkl
Training dataset size: 358647
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 6349.0
5it/s]
2024-08-31 20:48:35.945 | INFO     | retrieval.datamodule:load_or_cache_data:61 - Saved loaded data to cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a42
7bcecc7c0fe19306beb1310/random/cache_val/cached_data.pkl
Validation dataset size: 4904
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 6114.2
4it/s]
2024-08-31 20:48:36.441 | INFO     | retrieval.datamodule:load_or_cache_data:61 - Saved loaded data to cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a42
7bcecc7c0fe19306beb1310/random/cache_pred/cached_data.pkl
Testing dataset size: 5431
Training dataset size after load: 358647
Validation dataset size after load: 4904
Testing dataset size after load: 5431
2024-08-31 20:48:36.608 | INFO     | __main__:train_test_fisher:699 - Starting progressive training from epoch 0 to 1
[rank: 2] Seed set to 3407
Initializing distributed: GLOBAL_RANK: 2, MEMBER: 3/4
Missing logger folder: /data/yingzi_ma/lean_project/lightning_logs/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310_False_lambda_0.1/lightning_logs
2024-08-31 20:48:37.160 | INFO     | dynamic_database:generate_merged_dataset:422 - Exported proofs to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc
7c0fe19306beb1310
2024-08-31 20:48:38.139 | INFO     | dynamic_database:generate_merged_dataset:425 - Merged and exported corpus to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e2
40a427bcecc7c0fe19306beb1310
2024-08-31 20:48:38.163 | INFO     | dynamic_database:generate_merged_dataset:428 - Exported traced files to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a42
7bcecc7c0fe19306beb1310
2024-08-31 20:48:38.166 | INFO     | dynamic_database:generate_merged_dataset:431 - Exported metadata to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310
2024-08-31 20:48:38.203 | INFO     | __main__:find_latest_checkpoint:455 - Using the latest checkpoint: /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069
194c5.ckpt
2024-08-31 20:48:38.203 | INFO     | __main__:retrieve_proof:1100 - Found latest checkpoint: /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.ckpt
2024-08-31 20:48:38.203 | INFO     | __main__:train_test_fisher:595 - Inside train_test_fisher
2024-08-31 20:48:38.203 | INFO     | __main__:train_test_fisher:596 - Starting training at epoch 0
[rank: 1] Seed set to 3407
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/lightning_fabric/utilities/cloud_io.py:57: You are using `torch.load` with `weights_only=False` (the current default value), which uses the d
efault pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-mode
ls for more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be
allowed to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don
't have full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.
Lightning automatically upgraded your loaded checkpoint from v0.0.0 to v2.2.4. To apply the upgrade to your files permanently, run `python -m pytorch_lightning.utilities.upgrade_checkpoint ../checkpoints_PT_sing
le_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.ckpt`
2024-08-31 20:48:42.558 | INFO     | __main__:train_test_fisher:620 - Loaded premise retriever at /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.
ckpt and reset epoch count
2024-08-31 20:48:42.559 | INFO     | __main__:find_latest_fisher:465 - Using the latest Fisher Information Matrix: /data/yingzi_ma/lean_project/fisher_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68
bbe069194c5_fisher_info.pkl
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/torch/storage.py:414: FutureWarning: You are using `torch.load` with `weights_only=False` (the current default value), which uses the default
 pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-models for
 more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be allowe
d to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don't hav
e full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.
  return torch.load(io.BytesIO(b))
2024-08-31 20:48:43.393 | INFO     | __main__:load_fisher_information:442 - Fisher Information successfully loaded.
2024-08-31 20:48:43.393 | INFO     | retrieval.model:set_fisher_info:62 - Fisher Information has been updated in the model.
2024-08-31 20:48:43.393 | INFO     | __main__:train_test_fisher:626 - Fisher Information Matrix loaded.
Data path: /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310/random
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/transformers/tokenization_utils_base.py:1601: FutureWarning: `clean_up_tokenization_spaces` was not set. It will be set to `True` by default.
 This behavior will be depracted in transformers v4.45, and will be then set to `False` by default. For more details check this issue: https://github.com/huggingface/transformers/issues/31884
  warnings.warn(
2024-08-31 20:48:43.493 | INFO     | common:__init__:208 - Building the corpus from /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310/c
orpus.jsonl
2024-08-31 20:49:02.927 | INFO     | retrieval.datamodule:load_or_cache_data:52 - Loaded data from cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310/random/cache_train/cached_data.pkl
Training dataset size: 358647
2024-08-31 20:49:02.956 | INFO     | retrieval.datamodule:load_or_cache_data:52 - Loaded data from cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310/random/cache_val/cached_data.pkl
Validation dataset size: 4904
2024-08-31 20:49:02.988 | INFO     | retrieval.datamodule:load_or_cache_data:52 - Loaded data from cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310/random/cache_pred/cached_data.pkl
Testing dataset size: 5431
Training dataset size after load: 358647
Validation dataset size after load: 4904
Testing dataset size after load: 5431
2024-08-31 20:49:03.145 | INFO     | __main__:train_test_fisher:699 - Starting progressive training from epoch 0 to 1
[rank: 1] Seed set to 3407
Initializing distributed: GLOBAL_RANK: 1, MEMBER: 2/4
Missing logger folder: /data/yingzi_ma/lean_project/lightning_logs/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310_False_lambda_0.1/lightning_logs
^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[
B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^Z
[2]+  Stopped                 python main2.py
(ReProver) yingzi_ma@compute-permanent-node-834:~/lean_project/ReProver$ python main2.py
[2024-08-31 21:56:51,493] [INFO] [real_accelerator.py:203:get_accelerator] Setting ds_accelerator to cuda (auto detect)
2024-08-31 21:56:54.903 | INFO     | __main__:main:1191 - Running progressive training
2024-08-31 21:56:54.903 | INFO     | __main__:main:1197 - Configuring LeanDojo...
2024-08-31 21:56:54.907 | INFO     | generate_benchmark_lean4:configure_leandojo:317 - Current working directory: /data/yingzi_ma/lean_project/ReProver
2024-08-31 21:56:54.907 | INFO     | __main__:main:1199 - LeanDojo configured
2024-08-31 21:56:56.447 | INFO     | __main__:search_github_repositories:372 - Processing leanprover/lean4
2024-08-31 21:56:56.447 | INFO     | __main__:search_github_repositories:390 - Skipping leanprover/lean4 since it is a known repository
2024-08-31 21:56:56.447 | INFO     | __main__:search_github_repositories:372 - Processing leanprover-community/mathlib3
Cloning https://github.com/leanprover-community/mathlib3.git
Repo name: leanprover-community/mathlib3
2024-08-31 21:56:57.262 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/leanprover-community/mathlib3/65a1391a0106c9204fe45bc73a039f056558cb83/lean-toolchain failed. Retr
ying...
2024-08-31 21:56:58.288 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/leanprover-community/mathlib3/65a1391a0106c9204fe45bc73a039f056558cb83/lean-toolchain failed. Retr
ying...
2024-08-31 21:57:00.313 | INFO     | __main__:search_github_repositories:388 - Failed to clone leanprover-community/mathlib3 because of HTTP Error 404: Not Found
2024-08-31 21:57:00.314 | INFO     | __main__:search_github_repositories:372 - Processing leanprover-community/mathlib4
Cloning https://github.com/leanprover-community/mathlib4.git
Repo name: leanprover-community/mathlib4
2024-08-31 21:57:01.069 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc3
2024-08-31 21:57:16.504 | INFO     | __main__:search_github_repositories:372 - Processing uwdb/Cosette
Cloning https://github.com/uwdb/Cosette.git
Repo name: uwdb/Cosette
2024-08-31 21:57:17.260 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/uwdb/Cosette/c16b48ec7d278c717a9f1da3684f69621b3863f2/lean-toolchain failed. Retrying...
2024-08-31 21:57:18.295 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/uwdb/Cosette/c16b48ec7d278c717a9f1da3684f69621b3863f2/lean-toolchain failed. Retrying...
2024-08-31 21:57:20.345 | INFO     | __main__:search_github_repositories:388 - Failed to clone uwdb/Cosette because of HTTP Error 404: Not Found
2024-08-31 21:57:20.346 | INFO     | __main__:search_github_repositories:372 - Processing AndrasKovacs/smalltt
Cloning https://github.com/AndrasKovacs/smalltt.git
Repo name: AndrasKovacs/smalltt
2024-08-31 21:57:21.024 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/AndrasKovacs/smalltt/b5fc9b3747dcbf8c71ca9f976afb7b574b630996/lean-toolchain failed. Retrying...
2024-08-31 21:57:22.061 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/AndrasKovacs/smalltt/b5fc9b3747dcbf8c71ca9f976afb7b574b630996/lean-toolchain failed. Retrying...
2024-08-31 21:57:24.098 | INFO     | __main__:search_github_repositories:388 - Failed to clone AndrasKovacs/smalltt because of HTTP Error 404: Not Found
2024-08-31 21:57:24.099 | INFO     | __main__:search_github_repositories:372 - Processing dselsam/certigrad
Cloning https://github.com/dselsam/certigrad.git
Repo name: dselsam/certigrad
2024-08-31 21:57:24.723 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/dselsam/certigrad/c9a06e93f1ec58196d6d3b8563b29868d916727f/lean-toolchain failed. Retrying...
2024-08-31 21:57:25.748 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/dselsam/certigrad/c9a06e93f1ec58196d6d3b8563b29868d916727f/lean-toolchain failed. Retrying...
2024-08-31 21:57:27.775 | INFO     | __main__:search_github_repositories:388 - Failed to clone dselsam/certigrad because of HTTP Error 404: Not Found
2024-08-31 21:57:27.776 | INFO     | __main__:search_github_repositories:372 - Processing Kha/electrolysis
Cloning https://github.com/Kha/electrolysis.git
Repo name: Kha/electrolysis
2024-08-31 21:57:28.396 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/Kha/electrolysis/bd4655d91ca65856fb8373637ce3e7b17ee3a190/lean-toolchain failed. Retrying...
2024-08-31 21:57:29.423 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/Kha/electrolysis/bd4655d91ca65856fb8373637ce3e7b17ee3a190/lean-toolchain failed. Retrying...
2024-08-31 21:57:31.448 | INFO     | __main__:search_github_repositories:388 - Failed to clone Kha/electrolysis because of HTTP Error 404: Not Found
2024-08-31 21:57:31.449 | INFO     | __main__:search_github_repositories:372 - Processing ImperialCollegeLondon/formalising-mathematics
Cloning https://github.com/ImperialCollegeLondon/formalising-mathematics.git
Repo name: ImperialCollegeLondon/formalising-mathematics
2024-08-31 21:57:32.193 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/ImperialCollegeLondon/formalising-mathematics/d81ad67e36774eb68f242bcc1b88d33dacfd87bf/lean-toolch
ain failed. Retrying...
2024-08-31 21:57:33.220 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/ImperialCollegeLondon/formalising-mathematics/d81ad67e36774eb68f242bcc1b88d33dacfd87bf/lean-toolch
ain failed. Retrying...
2024-08-31 21:57:35.245 | INFO     | __main__:search_github_repositories:388 - Failed to clone ImperialCollegeLondon/formalising-mathematics because of HTTP Error 404: Not Found
2024-08-31 21:57:35.246 | INFO     | __main__:search_github_repositories:372 - Processing lecopivo/SciLean
Cloning https://github.com/lecopivo/SciLean.git
Repo name: lecopivo/SciLean
2024-08-31 21:57:35.709 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc2
Found 2 repositories
Using lambda = 0.1
Processing /data/yingzi_ma/lean_project/repos_new/leanprover-community/mathlib4
2024-08-31 21:57:51.130 | INFO     | __main__:retrieve_proof:1006 - Processing https://github.com/leanprover-community/mathlib4.git
2024-08-31 21:57:51.131 | INFO     | __main__:retrieve_proof:1022 - Found compatible commit 2b29e73438e240a427bcecc7c0fe19306beb1310 for https://github.com/leanprover-community/mathlib4.git
2024-08-31 21:57:51.131 | INFO     | __main__:retrieve_proof:1023 - Lean version: v4.8.0
2024-08-31 21:57:51.156 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.8.0
2024-08-31 21:58:06.546 | INFO     | __main__:retrieve_proof:1028 - Generating benchmark at /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310
2024-08-31 21:58:06.547 | INFO     | generate_benchmark_lean4:main:324 - Generating dataset to go into /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb131
0
2024-08-31 21:58:06.547 | INFO     | generate_benchmark_lean4:main:331 - lean toolchain version: {'content': 'leanprover/lean4:v4.8.0\n'}
2024-08-31 21:58:06.547 | INFO     | generate_benchmark_lean4:main:333 - lean version v: v4.8.0
2024-08-31 21:58:06.547 | INFO     | generate_benchmark_lean4:main:334 - is supported: True
2024-08-31 21:58:06.547 | INFO     | generate_benchmark_lean4:main:344 - lean path1 /data/yingzi_ma/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 21:58:06.547 | INFO     | generate_benchmark_lean4:main:345 - lean path2 /.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 21:58:06.547 | INFO     | generate_benchmark_lean4:main:346 - lean path3 ~/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 21:58:06.548 | INFO     | generate_benchmark_lean4:main:350 - Lean toolchain path 2 does not exist: /.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 21:58:06.549 | INFO     | generate_benchmark_lean4:main:352 - Lean toolchain path 3 does not exist: ~/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 21:58:06.549 | INFO     | generate_benchmark_lean4:main:355 - Switched to Lean toolchain at: /data/yingzi_ma/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 21:58:06.596 | INFO     | generate_benchmark_lean4:main:357 - lean --version: Lean (version 4.8.0, x86_64-unknown-linux-gnu, commit df668f00e6c0, Release)

2024-08-31 21:58:06.596 | INFO     | generate_benchmark_lean4:main:358 - repo: LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2b29e73438e240a427bcecc7c0fe19306beb1310')
2024-08-31 21:58:06.596 | INFO     | generate_benchmark_lean4:main:360 - Configuring LeanDojo again...
2024-08-31 21:58:06.603 | INFO     | generate_benchmark_lean4:configure_leandojo:317 - Current working directory: /data/yingzi_ma/lean_project/ReProver
2024-08-31 21:58:06.604 | INFO     | generate_benchmark_lean4:main:362 - LeanDojo configured
2024-08-31 21:58:06.604 | INFO     | generate_benchmark_lean4:main:365 - Tracing the repo...
2024-08-31 21:58:06.605 | DEBUG    | lean_dojo.data_extraction.trace:get_traced_repo_path:87 - The traced repo is available in the cache.
2024-08-31 21:58:06.605 | INFO     | lean_dojo.data_extraction.trace:trace:116 - Loading the traced repo from /data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathlib4-2b29e73438e240a427bcecc7c
0fe19306beb1310/mathlib4
2024-08-31 21:58:11.327 | DEBUG    | lean_dojo.data_extraction.traced_data:load_from_disk:1123 - Loading 5514 traced XML files from /data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathlib4-2b2
9e73438e240a427bcecc7c0fe19306beb1310/mathlib4 with 31 workers
100%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 5514/5514 [11:44<00:00,  7.8
3it/s]
2024-08-31 22:09:55.722 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2b29e73438e240a
427bcecc7c0fe19306beb1310')
2024-08-31 22:09:57.092 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.6.0-rc1
2024-08-31 22:10:13.619 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.8.0-rc1
2024-08-31 22:10:29.633 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.7.0
2024-08-31 22:10:45.569 | DEBUG    | lean_dojo.data_extraction.lean:url_to_repo:70 - url_to_repo("https://github.com/leanprover-community/import-graph.git") failed. Retrying...
2024-08-31 22:10:46.684 | DEBUG    | lean_dojo.data_extraction.lean:url_to_repo:70 - url_to_repo("https://github.com/leanprover-community/import-graph.git") failed. Retrying...
2024-08-31 22:10:49.277 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for doc-gen4 main
2024-08-31 22:10:49.912 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for batteries main
2024-08-31 22:10:59.432 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for quote4 master
2024-08-31 22:10:59.840 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.10.0
2024-08-31 22:11:15.176 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for aesop master
2024-08-31 22:11:16.195 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc1
2024-08-31 22:11:31.322 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for ProofWidgets4 v0.0.36
2024-08-31 22:11:32.131 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4-cli main
2024-08-31 22:11:32.701 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.9.0
2024-08-31 22:11:48.415 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for import-graph main
2024-08-31 22:11:49.014 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover/doc-gen4', commit='83f718b9055972dce4f92f5b3
917426b91a0d2fe')
2024-08-31 22:11:49.568 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.9.0-rc1
Following Github server redirection from /repos/mhuisi/lean4-cli to /repositories/341363356
2024-08-31 22:12:06.355 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4-nightly nightly-2024-06-05
2024-08-31 22:12:07.806 | WARNING  | lean_dojo.data_extraction.lean:__post_init__:446 - LeanGitRepo(url='https://github.com/mhuisi/lean4-cli', commit='bf066c328bcff19aa93adf4d24c4e896c0d4eaca') relies on an unsu
pported Lean version: fbb3055f82ff9a4bc82f6722f6e73225617342fd
2024-08-31 22:12:07.806 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/batteries', commit='a7fd140a94bbbf
a40cf10839227bbb9e8492be2d')
2024-08-31 22:12:07.989 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/quote4', commit='d38fb94558af9957b
8f479e350841ce65a1ec42c')
2024-08-31 22:12:08.209 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/aesop', commit='6c89b6765913a0d727
c1066493c3f5dc51c9713e')
2024-08-31 22:12:08.634 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/ProofWidgets4', commit='e6b6247c61
280c77ade6bbf0bc3c66a44fe2e0c5')
2024-08-31 22:12:08.989 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover/lean4-cli', commit='2cf1030dc2ae6b3632c84a09
350b675ef3e347d0')
2024-08-31 22:12:09.165 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/import-graph', commit='0a756018b73
6ef4f4bc3c9a45fc03cf97a0b1a0c')
2024-08-31 22:12:32.673 | DEBUG    | lean_dojo.data_extraction.traced_data:check_sanity:1009 - Checking the sanity of TracedRepo(repo=LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2
b29e73438e240a427bcecc7c0fe19306beb1310'), dependencies={'lean4': LeanGitRepo(url='https://github.com/leanprover/lean4', commit='daa22187642d4cf6954c39a23eab20d8a8675416'), 'batteries': LeanGitRepo(url='https://
github.com/leanprover-community/batteries', commit='021e272cb5cdcc82b7e1e760fe915ff2f64169ad'), 'Qq': LeanGitRepo(url='https://github.com/leanprover-community/quote4', commit='53156671405fbbd5402ed17a79bd129b961
bd8d6'), 'aesop': LeanGitRepo(url='https://github.com/leanprover-community/aesop', commit='53ba96ad7666d4a2515292974631629b5ea5dfee'), 'proofwidgets': LeanGitRepo(url='https://github.com/leanprover-community/Pro
ofWidgets4', commit='e6b6247c61280c77ade6bbf0bc3c66a44fe2e0c5'), 'Cli': LeanGitRepo(url='https://github.com/leanprover/lean4-cli', commit='2cf1030dc2ae6b3632c84a09350b675ef3e347d0'), '«doc-gen4»': LeanGitRepo(ur
l='https://github.com/leanprover/doc-gen4', commit='83f718b9055972dce4f92f5b3917426b91a0d2fe'), 'MD4Lean': LeanGitRepo(url='https://github.com/acmepjz/md4lean', commit='5e95f4776be5e048364f325c7e9d619bb56fb005')
, 'UnicodeBasic': LeanGitRepo(url='https://github.com/fgdorais/lean4-unicode-basic', commit='9447739fe9714f8a091192bad5cd5e7b5a8ae1e4'), 'BibtexQuery': LeanGitRepo(url='https://github.com/dupuisf/BibtexQuery', c
ommit='c138ab5c566c4268798b24bfcbea2f4c42413cdd'), 'importGraph': LeanGitRepo(url='https://github.com/leanprover-community/import-graph', commit='0a756018b736ef4f4bc3c9a45fc03cf97a0b1a0c')}, root_dir=PosixPath('
/data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathlib4-2b29e73438e240a427bcecc7c0fe19306beb1310/mathlib4'))
2024-08-31 22:12:57.374 | INFO     | generate_benchmark_lean4:main:367 - Successfully traced the repo
2024-08-31 22:12:57.376 | WARNING  | generate_benchmark_lean4:main:372 - /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310 already exists. Using it ins
tead.
2024-08-31 22:12:57.376 | INFO     | __main__:retrieve_proof:1036 - Finished generating benchmark at /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310
2024-08-31 22:13:07.626 | INFO     | dynamic_database:add_repository:583 - Attempting to add repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 22:13:07.626 | INFO     | dynamic_database:add_repository:586 - Added new repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 51689.5
4it/s]
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 53489.0
2it/s]
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 116251/116251 [01:36<00:00, 1205.9
2it/s]
2024-08-31 22:14:47.964 | INFO     | __main__:retrieve_proof:1074 - Before adding new repo:
2024-08-31 22:14:47.964 | INFO     | dynamic_database:print_database_contents:607 - Current database contents:
2024-08-31 22:14:47.964 | INFO     | dynamic_database:print_database_contents:609 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 22:14:47.964 | INFO     | dynamic_database:add_repository:583 - Attempting to add repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 22:14:47.964 | INFO     | dynamic_database:add_repository:588 - Repository 'https://github.com/leanprover-community/mathlib4' with commit '2b29e73438e240a427bcecc7c0fe19306beb1310' already exists in t
he database.
2024-08-31 22:14:47.964 | INFO     | __main__:retrieve_proof:1077 - After adding new repo:
2024-08-31 22:14:47.964 | INFO     | dynamic_database:print_database_contents:607 - Current database contents:
2024-08-31 22:14:47.964 | INFO     | dynamic_database:print_database_contents:609 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 22:15:01.220 | INFO     | __main__:retrieve_proof:1086 - Adding repo to repos_for_merged_dataset
2024-08-31 22:15:01.223 | INFO     | dynamic_database:generate_merged_dataset:399 - Merging selected repositories in the database:
2024-08-31 22:15:01.223 | INFO     | dynamic_database:generate_merged_dataset:401 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 22:17:24.926 | WARNING  | dynamic_database:generate_merged_dataset:418 - /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310 a
lready exists. Removing it now.
2024-08-31 22:17:47.522 | INFO     | dynamic_database:generate_merged_dataset:422 - Exported proofs to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc
7c0fe19306beb1310
2024-08-31 22:17:48.118 | INFO     | dynamic_database:generate_merged_dataset:425 - Merged and exported corpus to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e2
40a427bcecc7c0fe19306beb1310
2024-08-31 22:17:48.133 | INFO     | dynamic_database:generate_merged_dataset:428 - Exported traced files to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a42
7bcecc7c0fe19306beb1310
2024-08-31 22:17:48.136 | INFO     | dynamic_database:generate_merged_dataset:431 - Exported metadata to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310
2024-08-31 22:17:48.157 | INFO     | __main__:find_latest_checkpoint:455 - Using the latest checkpoint: /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069
194c5.ckpt
2024-08-31 22:17:48.158 | INFO     | __main__:retrieve_proof:1098 - Found latest checkpoint: /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.ckpt
2024-08-31 22:17:48.158 | INFO     | __main__:train_test_fisher:595 - Inside train_test_fisher
2024-08-31 22:17:48.158 | INFO     | __main__:train_test_fisher:596 - Starting training at epoch 0
[rank: 0] Seed set to 3407
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/lightning_fabric/utilities/cloud_io.py:57: You are using `torch.load` with `weights_only=False` (the current default value), which uses the d
efault pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-mode
ls for more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be
allowed to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don
't have full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.
Lightning automatically upgraded your loaded checkpoint from v0.0.0 to v2.2.4. To apply the upgrade to your files permanently, run `python -m pytorch_lightning.utilities.upgrade_checkpoint ../checkpoints_PT_sing
le_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.ckpt`
2024-08-31 22:17:51.948 | INFO     | __main__:train_test_fisher:620 - Loaded premise retriever at /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.
ckpt and reset epoch count
2024-08-31 22:17:51.949 | INFO     | __main__:find_latest_fisher:465 - Using the latest Fisher Information Matrix: /data/yingzi_ma/lean_project/fisher_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68
bbe069194c5_fisher_info.pkl
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/torch/storage.py:414: FutureWarning: You are using `torch.load` with `weights_only=False` (the current default value), which uses the default
 pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-models for
 more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be allowe
d to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don't hav
e full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.
  return torch.load(io.BytesIO(b))
2024-08-31 22:17:52.993 | INFO     | __main__:load_fisher_information:442 - Fisher Information successfully loaded.
2024-08-31 22:17:52.994 | INFO     | retrieval.model:set_fisher_info:62 - Fisher Information has been updated in the model.
2024-08-31 22:17:52.994 | INFO     | __main__:train_test_fisher:626 - Fisher Information Matrix loaded.
Data path: /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310/random
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/transformers/tokenization_utils_base.py:1601: FutureWarning: `clean_up_tokenization_spaces` was not set. It will be set to `True` by default.
 This behavior will be depracted in transformers v4.45, and will be then set to `False` by default. For more details check this issue: https://github.com/huggingface/transformers/issues/31884
  warnings.warn(
2024-08-31 22:17:53.102 | INFO     | common:__init__:208 - Building the corpus from /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310/c
orpus.jsonl
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 116251/116251 [00:17<00:00, 6665.1
4it/s]
2024-08-31 22:18:33.084 | INFO     | retrieval.datamodule:load_or_cache_data:61 - Saved loaded data to cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a42
7bcecc7c0fe19306beb1310/random/cache_train/cached_data.pkl
Training dataset size: 358647
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 6743.0
7it/s]
2024-08-31 22:18:33.535 | INFO     | retrieval.datamodule:load_or_cache_data:61 - Saved loaded data to cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a42
7bcecc7c0fe19306beb1310/random/cache_val/cached_data.pkl
Validation dataset size: 4904
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 6409.2
6it/s]
2024-08-31 22:18:34.014 | INFO     | retrieval.datamodule:load_or_cache_data:61 - Saved loaded data to cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a42
7bcecc7c0fe19306beb1310/random/cache_pred/cached_data.pkl
Testing dataset size: 5431
Training dataset size after load: 358647
Validation dataset size after load: 4904
Testing dataset size after load: 5431
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/lightning_fabric/plugins/environments/slurm.py:204: The `srun` command is available on your system but is not used. HINT: If your intention i
s to run Lightning on SLURM, prepend your python command with `srun` like so: srun python main2.py ...
Using bfloat16 Automatic Mixed Precision (AMP)
GPU available: True (cuda), used: True
TPU available: False, using: 0 TPU cores
IPU available: False, using: 0 IPUs
HPU available: False, using: 0 HPUs
2024-08-31 22:18:34.153 | INFO     | __main__:train_test_fisher:699 - Starting progressive training from epoch 0 to 1
[rank: 0] Seed set to 3407
Initializing distributed: GLOBAL_RANK: 0, MEMBER: 1/4
[2024-08-31 22:18:42,563] [INFO] [real_accelerator.py:203:get_accelerator] Setting ds_accelerator to cuda (auto detect)
[2024-08-31 22:18:42,563] [INFO] [real_accelerator.py:203:get_accelerator] Setting ds_accelerator to cuda (auto detect)
[2024-08-31 22:18:43,247] [INFO] [real_accelerator.py:203:get_accelerator] Setting ds_accelerator to cuda (auto detect)
2024-08-31 22:18:45.862 | INFO     | __main__:main:1191 - Running progressive training
2024-08-31 22:18:45.862 | INFO     | __main__:main:1191 - Running progressive training
2024-08-31 22:18:45.862 | INFO     | __main__:main:1197 - Configuring LeanDojo...
2024-08-31 22:18:45.862 | INFO     | __main__:main:1197 - Configuring LeanDojo...
2024-08-31 22:18:45.867 | INFO     | generate_benchmark_lean4:configure_leandojo:317 - Current working directory: /data/yingzi_ma/lean_project/ReProver
2024-08-31 22:18:45.867 | INFO     | generate_benchmark_lean4:configure_leandojo:317 - Current working directory: /data/yingzi_ma/lean_project/ReProver
2024-08-31 22:18:45.867 | INFO     | __main__:main:1199 - LeanDojo configured
2024-08-31 22:18:45.867 | INFO     | __main__:main:1199 - LeanDojo configured
2024-08-31 22:18:46.495 | INFO     | __main__:main:1191 - Running progressive training
2024-08-31 22:18:46.495 | INFO     | __main__:main:1197 - Configuring LeanDojo...
2024-08-31 22:18:46.498 | INFO     | generate_benchmark_lean4:configure_leandojo:317 - Current working directory: /data/yingzi_ma/lean_project/ReProver
2024-08-31 22:18:46.498 | INFO     | __main__:main:1199 - LeanDojo configured
2024-08-31 22:18:47.274 | INFO     | __main__:search_github_repositories:372 - Processing leanprover/lean4
2024-08-31 22:18:47.274 | INFO     | __main__:search_github_repositories:390 - Skipping leanprover/lean4 since it is a known repository
2024-08-31 22:18:47.274 | INFO     | __main__:search_github_repositories:372 - Processing leanprover-community/mathlib3
Cloning https://github.com/leanprover-community/mathlib3.git
Repo name: leanprover-community/mathlib3
2024-08-31 22:18:47.489 | INFO     | __main__:search_github_repositories:372 - Processing leanprover/lean4
2024-08-31 22:18:47.489 | INFO     | __main__:search_github_repositories:390 - Skipping leanprover/lean4 since it is a known repository
2024-08-31 22:18:47.489 | INFO     | __main__:search_github_repositories:372 - Processing leanprover-community/mathlib3
Cloning https://github.com/leanprover-community/mathlib3.git
Repo name: leanprover-community/mathlib3
2024-08-31 22:18:48.094 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/leanprover-community/mathlib3/65a1391a0106c9204fe45bc73a039f056558cb83/lean-toolchain failed. Retr
ying...
2024-08-31 22:18:48.143 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/leanprover-community/mathlib3/65a1391a0106c9204fe45bc73a039f056558cb83/lean-toolchain failed. Retr
ying...
2024-08-31 22:18:48.300 | INFO     | __main__:search_github_repositories:372 - Processing leanprover/lean4
2024-08-31 22:18:48.300 | INFO     | __main__:search_github_repositories:390 - Skipping leanprover/lean4 since it is a known repository
2024-08-31 22:18:48.300 | INFO     | __main__:search_github_repositories:372 - Processing leanprover-community/mathlib3
Cloning https://github.com/leanprover-community/mathlib3.git
Repo name: leanprover-community/mathlib3
2024-08-31 22:18:48.934 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/leanprover-community/mathlib3/65a1391a0106c9204fe45bc73a039f056558cb83/lean-toolchain failed. Retr
ying...
2024-08-31 22:18:49.121 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/leanprover-community/mathlib3/65a1391a0106c9204fe45bc73a039f056558cb83/lean-toolchain failed. Retr
ying...
2024-08-31 22:18:49.169 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/leanprover-community/mathlib3/65a1391a0106c9204fe45bc73a039f056558cb83/lean-toolchain failed. Retr
ying...
2024-08-31 22:18:49.961 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/leanprover-community/mathlib3/65a1391a0106c9204fe45bc73a039f056558cb83/lean-toolchain failed. Retr
ying...
2024-08-31 22:18:51.149 | INFO     | __main__:search_github_repositories:388 - Failed to clone leanprover-community/mathlib3 because of HTTP Error 404: Not Found
2024-08-31 22:18:51.149 | INFO     | __main__:search_github_repositories:372 - Processing leanprover-community/mathlib4
Cloning https://github.com/leanprover-community/mathlib4.git
Repo name: leanprover-community/mathlib4
2024-08-31 22:18:51.198 | INFO     | __main__:search_github_repositories:388 - Failed to clone leanprover-community/mathlib3 because of HTTP Error 404: Not Found
2024-08-31 22:18:51.199 | INFO     | __main__:search_github_repositories:372 - Processing leanprover-community/mathlib4
Cloning https://github.com/leanprover-community/mathlib4.git
Repo name: leanprover-community/mathlib4
2024-08-31 22:18:51.988 | INFO     | __main__:search_github_repositories:388 - Failed to clone leanprover-community/mathlib3 because of HTTP Error 404: Not Found
2024-08-31 22:18:51.989 | INFO     | __main__:search_github_repositories:372 - Processing leanprover-community/mathlib4
Cloning https://github.com/leanprover-community/mathlib4.git
Repo name: leanprover-community/mathlib4
2024-08-31 22:18:52.006 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc3
2024-08-31 22:18:52.006 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc3
2024-08-31 22:18:52.630 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc3
2024-08-31 22:19:07.311 | INFO     | __main__:search_github_repositories:372 - Processing uwdb/Cosette
Cloning https://github.com/uwdb/Cosette.git
Repo name: uwdb/Cosette
2024-08-31 22:19:07.351 | INFO     | __main__:search_github_repositories:372 - Processing uwdb/Cosette
Cloning https://github.com/uwdb/Cosette.git
Repo name: uwdb/Cosette
2024-08-31 22:19:07.969 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/uwdb/Cosette/c16b48ec7d278c717a9f1da3684f69621b3863f2/lean-toolchain failed. Retrying...
2024-08-31 22:19:07.969 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/uwdb/Cosette/c16b48ec7d278c717a9f1da3684f69621b3863f2/lean-toolchain failed. Retrying...
2024-08-31 22:19:08.220 | INFO     | __main__:search_github_repositories:372 - Processing uwdb/Cosette
Cloning https://github.com/uwdb/Cosette.git
Repo name: uwdb/Cosette
2024-08-31 22:19:08.785 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/uwdb/Cosette/c16b48ec7d278c717a9f1da3684f69621b3863f2/lean-toolchain failed. Retrying...
2024-08-31 22:19:08.995 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/uwdb/Cosette/c16b48ec7d278c717a9f1da3684f69621b3863f2/lean-toolchain failed. Retrying...
2024-08-31 22:19:08.995 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/uwdb/Cosette/c16b48ec7d278c717a9f1da3684f69621b3863f2/lean-toolchain failed. Retrying...
2024-08-31 22:19:09.812 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/uwdb/Cosette/c16b48ec7d278c717a9f1da3684f69621b3863f2/lean-toolchain failed. Retrying...
2024-08-31 22:19:11.021 | INFO     | __main__:search_github_repositories:388 - Failed to clone uwdb/Cosette because of HTTP Error 404: Not Found
2024-08-31 22:19:11.021 | INFO     | __main__:search_github_repositories:372 - Processing AndrasKovacs/smalltt
2024-08-31 22:19:11.022 | INFO     | __main__:search_github_repositories:388 - Failed to clone uwdb/Cosette because of HTTP Error 404: Not Found
Cloning https://github.com/AndrasKovacs/smalltt.git
Repo name: AndrasKovacs/smalltt
2024-08-31 22:19:11.022 | INFO     | __main__:search_github_repositories:372 - Processing AndrasKovacs/smalltt
Cloning https://github.com/AndrasKovacs/smalltt.git
Repo name: AndrasKovacs/smalltt
2024-08-31 22:19:11.647 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/AndrasKovacs/smalltt/b5fc9b3747dcbf8c71ca9f976afb7b574b630996/lean-toolchain failed. Retrying...
2024-08-31 22:19:11.647 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/AndrasKovacs/smalltt/b5fc9b3747dcbf8c71ca9f976afb7b574b630996/lean-toolchain failed. Retrying...
2024-08-31 22:19:11.839 | INFO     | __main__:search_github_repositories:388 - Failed to clone uwdb/Cosette because of HTTP Error 404: Not Found
2024-08-31 22:19:11.840 | INFO     | __main__:search_github_repositories:372 - Processing AndrasKovacs/smalltt
Cloning https://github.com/AndrasKovacs/smalltt.git
Repo name: AndrasKovacs/smalltt
2024-08-31 22:19:12.335 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/AndrasKovacs/smalltt/b5fc9b3747dcbf8c71ca9f976afb7b574b630996/lean-toolchain failed. Retrying...
2024-08-31 22:19:12.673 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/AndrasKovacs/smalltt/b5fc9b3747dcbf8c71ca9f976afb7b574b630996/lean-toolchain failed. Retrying...
2024-08-31 22:19:12.674 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/AndrasKovacs/smalltt/b5fc9b3747dcbf8c71ca9f976afb7b574b630996/lean-toolchain failed. Retrying...
2024-08-31 22:19:13.361 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/AndrasKovacs/smalltt/b5fc9b3747dcbf8c71ca9f976afb7b574b630996/lean-toolchain failed. Retrying...
2024-08-31 22:19:14.700 | INFO     | __main__:search_github_repositories:388 - Failed to clone AndrasKovacs/smalltt because of HTTP Error 404: Not Found
2024-08-31 22:19:14.701 | INFO     | __main__:search_github_repositories:388 - Failed to clone AndrasKovacs/smalltt because of HTTP Error 404: Not Found
2024-08-31 22:19:14.701 | INFO     | __main__:search_github_repositories:372 - Processing dselsam/certigrad
Cloning https://github.com/dselsam/certigrad.git
Repo name: dselsam/certigrad
2024-08-31 22:19:14.701 | INFO     | __main__:search_github_repositories:372 - Processing dselsam/certigrad
Cloning https://github.com/dselsam/certigrad.git
Repo name: dselsam/certigrad
2024-08-31 22:19:15.367 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/dselsam/certigrad/c9a06e93f1ec58196d6d3b8563b29868d916727f/lean-toolchain failed. Retrying...
2024-08-31 22:19:15.367 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/dselsam/certigrad/c9a06e93f1ec58196d6d3b8563b29868d916727f/lean-toolchain failed. Retrying...
2024-08-31 22:19:15.389 | INFO     | __main__:search_github_repositories:388 - Failed to clone AndrasKovacs/smalltt because of HTTP Error 404: Not Found
2024-08-31 22:19:15.389 | INFO     | __main__:search_github_repositories:372 - Processing dselsam/certigrad
Cloning https://github.com/dselsam/certigrad.git
Repo name: dselsam/certigrad
2024-08-31 22:19:15.930 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/dselsam/certigrad/c9a06e93f1ec58196d6d3b8563b29868d916727f/lean-toolchain failed. Retrying...
2024-08-31 22:19:16.405 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/dselsam/certigrad/c9a06e93f1ec58196d6d3b8563b29868d916727f/lean-toolchain failed. Retrying...
2024-08-31 22:19:16.407 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/dselsam/certigrad/c9a06e93f1ec58196d6d3b8563b29868d916727f/lean-toolchain failed. Retrying...
2024-08-31 22:19:16.956 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/dselsam/certigrad/c9a06e93f1ec58196d6d3b8563b29868d916727f/lean-toolchain failed. Retrying...
2024-08-31 22:19:18.446 | INFO     | __main__:search_github_repositories:388 - Failed to clone dselsam/certigrad because of HTTP Error 404: Not Found
2024-08-31 22:19:18.447 | INFO     | __main__:search_github_repositories:372 - Processing Kha/electrolysis
Cloning https://github.com/Kha/electrolysis.git
Repo name: Kha/electrolysis
2024-08-31 22:19:18.447 | INFO     | __main__:search_github_repositories:388 - Failed to clone dselsam/certigrad because of HTTP Error 404: Not Found
2024-08-31 22:19:18.448 | INFO     | __main__:search_github_repositories:372 - Processing Kha/electrolysis
Cloning https://github.com/Kha/electrolysis.git
Repo name: Kha/electrolysis
2024-08-31 22:19:18.983 | INFO     | __main__:search_github_repositories:388 - Failed to clone dselsam/certigrad because of HTTP Error 404: Not Found
2024-08-31 22:19:18.984 | INFO     | __main__:search_github_repositories:372 - Processing Kha/electrolysis
Cloning https://github.com/Kha/electrolysis.git
Repo name: Kha/electrolysis
2024-08-31 22:19:19.073 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/Kha/electrolysis/bd4655d91ca65856fb8373637ce3e7b17ee3a190/lean-toolchain failed. Retrying...
2024-08-31 22:19:19.073 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/Kha/electrolysis/bd4655d91ca65856fb8373637ce3e7b17ee3a190/lean-toolchain failed. Retrying...
2024-08-31 22:19:19.451 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/Kha/electrolysis/bd4655d91ca65856fb8373637ce3e7b17ee3a190/lean-toolchain failed. Retrying...
2024-08-31 22:19:20.113 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/Kha/electrolysis/bd4655d91ca65856fb8373637ce3e7b17ee3a190/lean-toolchain failed. Retrying...
2024-08-31 22:19:20.113 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/Kha/electrolysis/bd4655d91ca65856fb8373637ce3e7b17ee3a190/lean-toolchain failed. Retrying...
2024-08-31 22:19:20.477 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/Kha/electrolysis/bd4655d91ca65856fb8373637ce3e7b17ee3a190/lean-toolchain failed. Retrying...
2024-08-31 22:19:22.155 | INFO     | __main__:search_github_repositories:388 - Failed to clone Kha/electrolysis because of HTTP Error 404: Not Found
2024-08-31 22:19:22.155 | INFO     | __main__:search_github_repositories:388 - Failed to clone Kha/electrolysis because of HTTP Error 404: Not Found
2024-08-31 22:19:22.156 | INFO     | __main__:search_github_repositories:372 - Processing ImperialCollegeLondon/formalising-mathematics
2024-08-31 22:19:22.156 | INFO     | __main__:search_github_repositories:372 - Processing ImperialCollegeLondon/formalising-mathematics
Cloning https://github.com/ImperialCollegeLondon/formalising-mathematics.git
Cloning https://github.com/ImperialCollegeLondon/formalising-mathematics.git
Repo name: ImperialCollegeLondon/formalising-mathematics
Repo name: ImperialCollegeLondon/formalising-mathematics
2024-08-31 22:19:22.505 | INFO     | __main__:search_github_repositories:388 - Failed to clone Kha/electrolysis because of HTTP Error 404: Not Found
2024-08-31 22:19:22.505 | INFO     | __main__:search_github_repositories:372 - Processing ImperialCollegeLondon/formalising-mathematics
Cloning https://github.com/ImperialCollegeLondon/formalising-mathematics.git
Repo name: ImperialCollegeLondon/formalising-mathematics
2024-08-31 22:19:22.851 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/ImperialCollegeLondon/formalising-mathematics/d81ad67e36774eb68f242bcc1b88d33dacfd87bf/lean-toolch
ain failed. Retrying...
2024-08-31 22:19:22.851 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/ImperialCollegeLondon/formalising-mathematics/d81ad67e36774eb68f242bcc1b88d33dacfd87bf/lean-toolch
ain failed. Retrying...
2024-08-31 22:19:23.038 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/ImperialCollegeLondon/formalising-mathematics/d81ad67e36774eb68f242bcc1b88d33dacfd87bf/lean-toolch
ain failed. Retrying...
2024-08-31 22:19:23.877 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/ImperialCollegeLondon/formalising-mathematics/d81ad67e36774eb68f242bcc1b88d33dacfd87bf/lean-toolch
ain failed. Retrying...
2024-08-31 22:19:23.877 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/ImperialCollegeLondon/formalising-mathematics/d81ad67e36774eb68f242bcc1b88d33dacfd87bf/lean-toolch
ain failed. Retrying...
2024-08-31 22:19:24.064 | DEBUG    | lean_dojo.utils:read_url:178 - Request to https://raw.githubusercontent.com/ImperialCollegeLondon/formalising-mathematics/d81ad67e36774eb68f242bcc1b88d33dacfd87bf/lean-toolch
ain failed. Retrying...
2024-08-31 22:19:25.904 | INFO     | __main__:search_github_repositories:388 - Failed to clone ImperialCollegeLondon/formalising-mathematics because of HTTP Error 404: Not Found
2024-08-31 22:19:25.905 | INFO     | __main__:search_github_repositories:372 - Processing lecopivo/SciLean
Cloning https://github.com/lecopivo/SciLean.git
Repo name: lecopivo/SciLean
2024-08-31 22:19:25.906 | INFO     | __main__:search_github_repositories:388 - Failed to clone ImperialCollegeLondon/formalising-mathematics because of HTTP Error 404: Not Found
2024-08-31 22:19:25.907 | INFO     | __main__:search_github_repositories:372 - Processing lecopivo/SciLean
Cloning https://github.com/lecopivo/SciLean.git
Repo name: lecopivo/SciLean
2024-08-31 22:19:26.090 | INFO     | __main__:search_github_repositories:388 - Failed to clone ImperialCollegeLondon/formalising-mathematics because of HTTP Error 404: Not Found
2024-08-31 22:19:26.090 | INFO     | __main__:search_github_repositories:372 - Processing lecopivo/SciLean
Cloning https://github.com/lecopivo/SciLean.git
Repo name: lecopivo/SciLean
2024-08-31 22:19:26.515 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc2
2024-08-31 22:19:26.515 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc2
2024-08-31 22:19:26.564 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc2
Found 2 repositories
Using lambda = 0.1
Processing /data/yingzi_ma/lean_project/repos_new/leanprover-community/mathlib4
2024-08-31 22:19:41.651 | INFO     | __main__:retrieve_proof:1006 - Processing https://github.com/leanprover-community/mathlib4.git
2024-08-31 22:19:41.651 | INFO     | __main__:retrieve_proof:1022 - Found compatible commit 2b29e73438e240a427bcecc7c0fe19306beb1310 for https://github.com/leanprover-community/mathlib4.git
2024-08-31 22:19:41.651 | INFO     | __main__:retrieve_proof:1023 - Lean version: v4.8.0
Found 2 repositories
Using lambda = 0.1
Processing /data/yingzi_ma/lean_project/repos_new/leanprover-community/mathlib4
2024-08-31 22:19:41.780 | INFO     | __main__:retrieve_proof:1006 - Processing https://github.com/leanprover-community/mathlib4.git
2024-08-31 22:19:41.780 | INFO     | __main__:retrieve_proof:1022 - Found compatible commit 2b29e73438e240a427bcecc7c0fe19306beb1310 for https://github.com/leanprover-community/mathlib4.git
2024-08-31 22:19:41.780 | INFO     | __main__:retrieve_proof:1023 - Lean version: v4.8.0
2024-08-31 22:19:41.906 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.8.0
2024-08-31 22:19:41.907 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.8.0
Found 2 repositories
Using lambda = 0.1
Processing /data/yingzi_ma/lean_project/repos_new/leanprover-community/mathlib4
2024-08-31 22:19:42.045 | INFO     | __main__:retrieve_proof:1006 - Processing https://github.com/leanprover-community/mathlib4.git
2024-08-31 22:19:42.045 | INFO     | __main__:retrieve_proof:1022 - Found compatible commit 2b29e73438e240a427bcecc7c0fe19306beb1310 for https://github.com/leanprover-community/mathlib4.git
2024-08-31 22:19:42.045 | INFO     | __main__:retrieve_proof:1023 - Lean version: v4.8.0
2024-08-31 22:19:42.070 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.8.0
2024-08-31 22:19:56.786 | INFO     | __main__:retrieve_proof:1028 - Generating benchmark at /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310
2024-08-31 22:19:56.786 | INFO     | generate_benchmark_lean4:main:324 - Generating dataset to go into /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb131
0
2024-08-31 22:19:56.786 | INFO     | generate_benchmark_lean4:main:331 - lean toolchain version: {'content': 'leanprover/lean4:v4.8.0\n'}
2024-08-31 22:19:56.786 | INFO     | generate_benchmark_lean4:main:333 - lean version v: v4.8.0
2024-08-31 22:19:56.786 | INFO     | generate_benchmark_lean4:main:334 - is supported: True
2024-08-31 22:19:56.787 | INFO     | generate_benchmark_lean4:main:344 - lean path1 /data/yingzi_ma/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 22:19:56.787 | INFO     | generate_benchmark_lean4:main:345 - lean path2 /.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 22:19:56.787 | INFO     | generate_benchmark_lean4:main:346 - lean path3 ~/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 22:19:56.788 | INFO     | generate_benchmark_lean4:main:350 - Lean toolchain path 2 does not exist: /.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 22:19:56.789 | INFO     | generate_benchmark_lean4:main:352 - Lean toolchain path 3 does not exist: ~/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 22:19:56.789 | INFO     | generate_benchmark_lean4:main:355 - Switched to Lean toolchain at: /data/yingzi_ma/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 22:19:56.832 | INFO     | generate_benchmark_lean4:main:357 - lean --version: Lean (version 4.8.0, x86_64-unknown-linux-gnu, commit df668f00e6c0, Release)

2024-08-31 22:19:56.832 | INFO     | generate_benchmark_lean4:main:358 - repo: LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2b29e73438e240a427bcecc7c0fe19306beb1310')
2024-08-31 22:19:56.832 | INFO     | generate_benchmark_lean4:main:360 - Configuring LeanDojo again...
2024-08-31 22:19:56.839 | INFO     | generate_benchmark_lean4:configure_leandojo:317 - Current working directory: /data/yingzi_ma/lean_project/ReProver
2024-08-31 22:19:56.839 | INFO     | generate_benchmark_lean4:main:362 - LeanDojo configured
2024-08-31 22:19:56.839 | INFO     | generate_benchmark_lean4:main:365 - Tracing the repo...
2024-08-31 22:19:56.842 | DEBUG    | lean_dojo.data_extraction.trace:get_traced_repo_path:87 - The traced repo is available in the cache.
2024-08-31 22:19:56.842 | INFO     | lean_dojo.data_extraction.trace:trace:116 - Loading the traced repo from /data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathlib4-2b29e73438e240a427bcecc7c
0fe19306beb1310/mathlib4
2024-08-31 22:19:57.115 | INFO     | __main__:retrieve_proof:1028 - Generating benchmark at /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310
2024-08-31 22:19:57.115 | INFO     | generate_benchmark_lean4:main:324 - Generating dataset to go into /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb131
0
2024-08-31 22:19:57.115 | INFO     | generate_benchmark_lean4:main:331 - lean toolchain version: {'content': 'leanprover/lean4:v4.8.0\n'}
2024-08-31 22:19:57.115 | INFO     | generate_benchmark_lean4:main:333 - lean version v: v4.8.0
2024-08-31 22:19:57.115 | INFO     | generate_benchmark_lean4:main:334 - is supported: True
2024-08-31 22:19:57.115 | INFO     | generate_benchmark_lean4:main:344 - lean path1 /data/yingzi_ma/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 22:19:57.115 | INFO     | generate_benchmark_lean4:main:345 - lean path2 /.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 22:19:57.115 | INFO     | generate_benchmark_lean4:main:346 - lean path3 ~/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 22:19:57.116 | INFO     | generate_benchmark_lean4:main:350 - Lean toolchain path 2 does not exist: /.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 22:19:57.116 | INFO     | generate_benchmark_lean4:main:352 - Lean toolchain path 3 does not exist: ~/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 22:19:57.116 | INFO     | generate_benchmark_lean4:main:355 - Switched to Lean toolchain at: /data/yingzi_ma/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 22:19:57.158 | INFO     | generate_benchmark_lean4:main:357 - lean --version: Lean (version 4.8.0, x86_64-unknown-linux-gnu, commit df668f00e6c0, Release)

2024-08-31 22:19:57.159 | INFO     | generate_benchmark_lean4:main:358 - repo: LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2b29e73438e240a427bcecc7c0fe19306beb1310')
2024-08-31 22:19:57.159 | INFO     | generate_benchmark_lean4:main:360 - Configuring LeanDojo again...
2024-08-31 22:19:57.162 | INFO     | generate_benchmark_lean4:configure_leandojo:317 - Current working directory: /data/yingzi_ma/lean_project/ReProver
2024-08-31 22:19:57.162 | INFO     | generate_benchmark_lean4:main:362 - LeanDojo configured
2024-08-31 22:19:57.162 | INFO     | generate_benchmark_lean4:main:365 - Tracing the repo...
2024-08-31 22:19:57.164 | DEBUG    | lean_dojo.data_extraction.trace:get_traced_repo_path:87 - The traced repo is available in the cache.
2024-08-31 22:19:57.164 | INFO     | lean_dojo.data_extraction.trace:trace:116 - Loading the traced repo from /data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathlib4-2b29e73438e240a427bcecc7c
0fe19306beb1310/mathlib4
2024-08-31 22:19:57.509 | INFO     | __main__:retrieve_proof:1028 - Generating benchmark at /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310
2024-08-31 22:19:57.509 | INFO     | generate_benchmark_lean4:main:324 - Generating dataset to go into /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb131
0
2024-08-31 22:19:57.509 | INFO     | generate_benchmark_lean4:main:331 - lean toolchain version: {'content': 'leanprover/lean4:v4.8.0\n'}
2024-08-31 22:19:57.509 | INFO     | generate_benchmark_lean4:main:333 - lean version v: v4.8.0
2024-08-31 22:19:57.510 | INFO     | generate_benchmark_lean4:main:334 - is supported: True
2024-08-31 22:19:57.510 | INFO     | generate_benchmark_lean4:main:344 - lean path1 /data/yingzi_ma/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 22:19:57.510 | INFO     | generate_benchmark_lean4:main:345 - lean path2 /.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 22:19:57.510 | INFO     | generate_benchmark_lean4:main:346 - lean path3 ~/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 22:19:57.510 | INFO     | generate_benchmark_lean4:main:350 - Lean toolchain path 2 does not exist: /.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 22:19:57.510 | INFO     | generate_benchmark_lean4:main:352 - Lean toolchain path 3 does not exist: ~/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 22:19:57.511 | INFO     | generate_benchmark_lean4:main:355 - Switched to Lean toolchain at: /data/yingzi_ma/.elan/toolchains/leanprover--lean4---4.8.0
2024-08-31 22:19:57.554 | INFO     | generate_benchmark_lean4:main:357 - lean --version: Lean (version 4.8.0, x86_64-unknown-linux-gnu, commit df668f00e6c0, Release)

2024-08-31 22:19:57.554 | INFO     | generate_benchmark_lean4:main:358 - repo: LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2b29e73438e240a427bcecc7c0fe19306beb1310')
2024-08-31 22:19:57.554 | INFO     | generate_benchmark_lean4:main:360 - Configuring LeanDojo again...
2024-08-31 22:19:57.557 | INFO     | generate_benchmark_lean4:configure_leandojo:317 - Current working directory: /data/yingzi_ma/lean_project/ReProver
2024-08-31 22:19:57.558 | INFO     | generate_benchmark_lean4:main:362 - LeanDojo configured
2024-08-31 22:19:57.558 | INFO     | generate_benchmark_lean4:main:365 - Tracing the repo...
2024-08-31 22:19:57.559 | DEBUG    | lean_dojo.data_extraction.trace:get_traced_repo_path:87 - The traced repo is available in the cache.
2024-08-31 22:19:57.559 | INFO     | lean_dojo.data_extraction.trace:trace:116 - Loading the traced repo from /data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathlib4-2b29e73438e240a427bcecc7c
0fe19306beb1310/mathlib4
2024-08-31 22:20:00.671 | DEBUG    | lean_dojo.data_extraction.traced_data:load_from_disk:1123 - Loading 5514 traced XML files from /data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathlib4-2b2
9e73438e240a427bcecc7c0fe19306beb1310/mathlib4 with 31 workers
  0%|                                                                                                                                                                                           | 0/5514 [00:00<?,
?it/s]2024-08-31 22:20:00.892 | DEBUG    | lean_dojo.data_extraction.traced_data:load_from_disk:1123 - Loading 5514 traced XML files from /data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathli
b4-2b29e73438e240a427bcecc7c0fe19306beb1310/mathlib4 with 31 workers
  0%|                                                                                                                                                                                   | 1/5514 [00:00<37:43,  2.4
4it/s]2024-08-31 22:20:01.372 | DEBUG    | lean_dojo.data_extraction.traced_data:load_from_disk:1123 - Loading 5514 traced XML files from /data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathli
b4-2b29e73438e240a427bcecc7c0fe19306beb1310/mathlib4 with 31 workers
100%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 5514/5514 [12:44<00:00,  7.2
1it/s]
2024-08-31 22:32:45.480 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2b29e73438e240a
427bcecc7c0fe19306beb1310')
100%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 5514/5514 [12:44<00:00,  7.2
2it/s]
2024-08-31 22:32:45.481 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2b29e73438e240a
427bcecc7c0fe19306beb1310')
2024-08-31 22:32:46.840 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.6.0-rc1
2024-08-31 22:32:46.841 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.6.0-rc1
 78%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████▊                                       | 4287/5514 [13:02<02:01, 10.1
0it/s]2024-08-31 22:33:03.306 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.8.0-rc1
2024-08-31 22:33:03.329 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.8.0-rc1
 83%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████▊                              | 4568/5514 [13:18<00:28, 33.6
1it/s]2024-08-31 22:33:19.212 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.7.0
2024-08-31 22:33:19.222 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.7.0
 90%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████▌                  | 4936/5514 [13:33<00:15, 37.0
7it/s]2024-08-31 22:33:34.759 | DEBUG    | lean_dojo.data_extraction.lean:url_to_repo:70 - url_to_repo("https://github.com/leanprover-community/import-graph.git") failed. Retrying...
 90%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████▋                  | 4941/5514 [13:34<00:24, 23.8
6it/s]2024-08-31 22:33:34.827 | DEBUG    | lean_dojo.data_extraction.lean:url_to_repo:70 - url_to_repo("https://github.com/leanprover-community/import-graph.git") failed. Retrying...
 90%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████▎                 | 4958/5514 [13:35<00:26, 21.1
5it/s]2024-08-31 22:33:35.867 | DEBUG    | lean_dojo.data_extraction.lean:url_to_repo:70 - url_to_repo("https://github.com/leanprover-community/import-graph.git") failed. Retrying...
2024-08-31 22:33:35.935 | DEBUG    | lean_dojo.data_extraction.lean:url_to_repo:70 - url_to_repo("https://github.com/leanprover-community/import-graph.git") failed. Retrying...
 91%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████▍                | 4995/5514 [13:37<00:26, 19.8
0it/s]2024-08-31 22:33:38.434 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for doc-gen4 main
2024-08-31 22:33:38.518 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for doc-gen4 main
 91%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████▋                | 5001/5514 [13:38<00:30, 16.8
0it/s]2024-08-31 22:33:39.053 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for batteries main
2024-08-31 22:33:39.053 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for batteries main
 95%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████▊        | 5257/5514 [13:47<00:04, 53.7
2it/s]2024-08-31 22:33:48.579 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for quote4 master
2024-08-31 22:33:48.580 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for quote4 master
2024-08-31 22:33:48.970 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.10.0
2024-08-31 22:33:48.969 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.10.0
100%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 5514/5514 [13:57<00:00,  6.5
8it/s]
2024-08-31 22:33:58.326 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2b29e73438e240a
427bcecc7c0fe19306beb1310')
2024-08-31 22:33:59.628 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.6.0-rc1
2024-08-31 22:34:04.211 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for aesop master
2024-08-31 22:34:04.215 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for aesop master
2024-08-31 22:34:05.252 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc1
2024-08-31 22:34:05.252 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc1
2024-08-31 22:34:16.234 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.8.0-rc1
2024-08-31 22:34:20.415 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for ProofWidgets4 v0.0.36
2024-08-31 22:34:20.585 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for ProofWidgets4 v0.0.36
2024-08-31 22:34:21.234 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4-cli main
2024-08-31 22:34:21.447 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4-cli main
2024-08-31 22:34:21.823 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.9.0
2024-08-31 22:34:21.895 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.9.0
2024-08-31 22:34:32.074 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.7.0
2024-08-31 22:34:37.498 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for import-graph main
2024-08-31 22:34:37.923 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for import-graph main
2024-08-31 22:34:38.123 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover/doc-gen4', commit='83f718b9055972dce4f92f5b3
917426b91a0d2fe')
2024-08-31 22:34:38.390 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover/doc-gen4', commit='83f718b9055972dce4f92f5b3
917426b91a0d2fe')
2024-08-31 22:34:38.651 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.9.0-rc1
2024-08-31 22:34:38.795 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.9.0-rc1
2024-08-31 22:34:47.576 | DEBUG    | lean_dojo.data_extraction.lean:url_to_repo:70 - url_to_repo("https://github.com/leanprover-community/import-graph.git") failed. Retrying...
2024-08-31 22:34:48.677 | DEBUG    | lean_dojo.data_extraction.lean:url_to_repo:70 - url_to_repo("https://github.com/leanprover-community/import-graph.git") failed. Retrying...
2024-08-31 22:34:51.300 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for doc-gen4 main
2024-08-31 22:34:51.723 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for batteries main
Following Github server redirection from /repos/mhuisi/lean4-cli to /repositories/341363356
Following Github server redirection from /repos/mhuisi/lean4-cli to /repositories/341363356
2024-08-31 22:34:55.589 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4-nightly nightly-2024-06-05
2024-08-31 22:34:55.588 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4-nightly nightly-2024-06-05
2024-08-31 22:34:57.067 | WARNING  | lean_dojo.data_extraction.lean:__post_init__:446 - LeanGitRepo(url='https://github.com/mhuisi/lean4-cli', commit='bf066c328bcff19aa93adf4d24c4e896c0d4eaca') relies on an unsu
pported Lean version: fbb3055f82ff9a4bc82f6722f6e73225617342fd
2024-08-31 22:34:57.067 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/batteries', commit='a7fd140a94bbbf
a40cf10839227bbb9e8492be2d')
2024-08-31 22:34:57.138 | WARNING  | lean_dojo.data_extraction.lean:__post_init__:446 - LeanGitRepo(url='https://github.com/mhuisi/lean4-cli', commit='bf066c328bcff19aa93adf4d24c4e896c0d4eaca') relies on an unsu
pported Lean version: fbb3055f82ff9a4bc82f6722f6e73225617342fd
2024-08-31 22:34:57.138 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/batteries', commit='a7fd140a94bbbf
a40cf10839227bbb9e8492be2d')
2024-08-31 22:34:57.247 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/quote4', commit='d38fb94558af9957b
8f479e350841ce65a1ec42c')
2024-08-31 22:34:57.247 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/quote4', commit='d38fb94558af9957b
8f479e350841ce65a1ec42c')
2024-08-31 22:34:57.430 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/aesop', commit='6c89b6765913a0d727
c1066493c3f5dc51c9713e')
2024-08-31 22:34:57.430 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/aesop', commit='6c89b6765913a0d727
c1066493c3f5dc51c9713e')
2024-08-31 22:34:57.860 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/ProofWidgets4', commit='e6b6247c61
280c77ade6bbf0bc3c66a44fe2e0c5')
2024-08-31 22:34:57.860 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/ProofWidgets4', commit='e6b6247c61
280c77ade6bbf0bc3c66a44fe2e0c5')
2024-08-31 22:34:58.217 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover/lean4-cli', commit='2cf1030dc2ae6b3632c84a09
350b675ef3e347d0')
2024-08-31 22:34:58.217 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover/lean4-cli', commit='2cf1030dc2ae6b3632c84a09
350b675ef3e347d0')
2024-08-31 22:34:58.405 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/import-graph', commit='0a756018b73
6ef4f4bc3c9a45fc03cf97a0b1a0c')
2024-08-31 22:34:58.405 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/import-graph', commit='0a756018b73
6ef4f4bc3c9a45fc03cf97a0b1a0c')
2024-08-31 22:35:01.123 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for quote4 master
2024-08-31 22:35:01.524 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.10.0
2024-08-31 22:35:17.251 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for aesop master
2024-08-31 22:35:18.103 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.11.0-rc1
2024-08-31 22:35:22.319 | DEBUG    | lean_dojo.data_extraction.traced_data:check_sanity:1009 - Checking the sanity of TracedRepo(repo=LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2
b29e73438e240a427bcecc7c0fe19306beb1310'), dependencies={'lean4': LeanGitRepo(url='https://github.com/leanprover/lean4', commit='daa22187642d4cf6954c39a23eab20d8a8675416'), 'batteries': LeanGitRepo(url='https://
github.com/leanprover-community/batteries', commit='021e272cb5cdcc82b7e1e760fe915ff2f64169ad'), 'Qq': LeanGitRepo(url='https://github.com/leanprover-community/quote4', commit='53156671405fbbd5402ed17a79bd129b961
bd8d6'), 'aesop': LeanGitRepo(url='https://github.com/leanprover-community/aesop', commit='53ba96ad7666d4a2515292974631629b5ea5dfee'), 'proofwidgets': LeanGitRepo(url='https://github.com/leanprover-community/Pro
ofWidgets4', commit='e6b6247c61280c77ade6bbf0bc3c66a44fe2e0c5'), 'Cli': LeanGitRepo(url='https://github.com/leanprover/lean4-cli', commit='2cf1030dc2ae6b3632c84a09350b675ef3e347d0'), '«doc-gen4»': LeanGitRepo(ur
l='https://github.com/leanprover/doc-gen4', commit='83f718b9055972dce4f92f5b3917426b91a0d2fe'), 'MD4Lean': LeanGitRepo(url='https://github.com/acmepjz/md4lean', commit='5e95f4776be5e048364f325c7e9d619bb56fb005')
, 'UnicodeBasic': LeanGitRepo(url='https://github.com/fgdorais/lean4-unicode-basic', commit='9447739fe9714f8a091192bad5cd5e7b5a8ae1e4'), 'BibtexQuery': LeanGitRepo(url='https://github.com/dupuisf/BibtexQuery', c
ommit='c138ab5c566c4268798b24bfcbea2f4c42413cdd'), 'importGraph': LeanGitRepo(url='https://github.com/leanprover-community/import-graph', commit='0a756018b736ef4f4bc3c9a45fc03cf97a0b1a0c')}, root_dir=PosixPath('
/data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathlib4-2b29e73438e240a427bcecc7c0fe19306beb1310/mathlib4'))
2024-08-31 22:35:23.056 | DEBUG    | lean_dojo.data_extraction.traced_data:check_sanity:1009 - Checking the sanity of TracedRepo(repo=LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2
b29e73438e240a427bcecc7c0fe19306beb1310'), dependencies={'lean4': LeanGitRepo(url='https://github.com/leanprover/lean4', commit='daa22187642d4cf6954c39a23eab20d8a8675416'), 'batteries': LeanGitRepo(url='https://
github.com/leanprover-community/batteries', commit='021e272cb5cdcc82b7e1e760fe915ff2f64169ad'), 'Qq': LeanGitRepo(url='https://github.com/leanprover-community/quote4', commit='53156671405fbbd5402ed17a79bd129b961
bd8d6'), 'aesop': LeanGitRepo(url='https://github.com/leanprover-community/aesop', commit='53ba96ad7666d4a2515292974631629b5ea5dfee'), 'proofwidgets': LeanGitRepo(url='https://github.com/leanprover-community/Pro
ofWidgets4', commit='e6b6247c61280c77ade6bbf0bc3c66a44fe2e0c5'), 'Cli': LeanGitRepo(url='https://github.com/leanprover/lean4-cli', commit='2cf1030dc2ae6b3632c84a09350b675ef3e347d0'), '«doc-gen4»': LeanGitRepo(ur
l='https://github.com/leanprover/doc-gen4', commit='83f718b9055972dce4f92f5b3917426b91a0d2fe'), 'MD4Lean': LeanGitRepo(url='https://github.com/acmepjz/md4lean', commit='5e95f4776be5e048364f325c7e9d619bb56fb005')
, 'UnicodeBasic': LeanGitRepo(url='https://github.com/fgdorais/lean4-unicode-basic', commit='9447739fe9714f8a091192bad5cd5e7b5a8ae1e4'), 'BibtexQuery': LeanGitRepo(url='https://github.com/dupuisf/BibtexQuery', c
ommit='c138ab5c566c4268798b24bfcbea2f4c42413cdd'), 'importGraph': LeanGitRepo(url='https://github.com/leanprover-community/import-graph', commit='0a756018b736ef4f4bc3c9a45fc03cf97a0b1a0c')}, root_dir=PosixPath('
/data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathlib4-2b29e73438e240a427bcecc7c0fe19306beb1310/mathlib4'))
2024-08-31 22:35:33.670 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for ProofWidgets4 v0.0.36
2024-08-31 22:35:34.495 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4-cli main
2024-08-31 22:35:34.952 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.9.0
2024-08-31 22:35:48.195 | INFO     | generate_benchmark_lean4:main:367 - Successfully traced the repo
2024-08-31 22:35:48.196 | WARNING  | generate_benchmark_lean4:main:372 - /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310 already exists. Using it ins
tead.
2024-08-31 22:35:48.196 | INFO     | __main__:retrieve_proof:1036 - Finished generating benchmark at /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310
2024-08-31 22:35:49.274 | INFO     | generate_benchmark_lean4:main:367 - Successfully traced the repo
2024-08-31 22:35:49.275 | WARNING  | generate_benchmark_lean4:main:372 - /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310 already exists. Using it ins
tead.
2024-08-31 22:35:49.275 | INFO     | __main__:retrieve_proof:1036 - Finished generating benchmark at /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310
2024-08-31 22:35:50.839 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for import-graph main
2024-08-31 22:35:51.286 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover/doc-gen4', commit='83f718b9055972dce4f92f5b3
917426b91a0d2fe')
2024-08-31 22:35:51.689 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4 v4.9.0-rc1
2024-08-31 22:35:59.300 | INFO     | dynamic_database:add_repository:583 - Attempting to add repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 22:35:59.300 | INFO     | dynamic_database:add_repository:586 - Added new repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 50197.0
4it/s]
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 52025.6
1it/s]
2024-08-31 22:36:00.070 | INFO     | dynamic_database:add_repository:583 - Attempting to add repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 22:36:00.070 | INFO     | dynamic_database:add_repository:586 - Added new repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 50148.7
0it/s]
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 51530.0
6it/s]
 17%|████████████████████████████▌                                                                                                                                             | 19543/116251 [00:00<00:02, 47825.4
8it/s]Following Github server redirection from /repos/mhuisi/lean4-cli to /repositories/341363356
2024-08-31 22:36:08.525 | DEBUG    | lean_dojo.data_extraction.lean:_to_commit_hash:90 - Querying the commit hash for lean4-nightly nightly-2024-06-05
2024-08-31 22:36:10.113 | WARNING  | lean_dojo.data_extraction.lean:__post_init__:446 - LeanGitRepo(url='https://github.com/mhuisi/lean4-cli', commit='bf066c328bcff19aa93adf4d24c4e896c0d4eaca') relies on an unsu
pported Lean version: fbb3055f82ff9a4bc82f6722f6e73225617342fd
2024-08-31 22:36:10.113 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/batteries', commit='a7fd140a94bbbf
a40cf10839227bbb9e8492be2d')
2024-08-31 22:36:10.146 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/quote4', commit='d38fb94558af9957b
8f479e350841ce65a1ec42c')
2024-08-31 22:36:10.177 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/aesop', commit='6c89b6765913a0d727
c1066493c3f5dc51c9713e')
2024-08-31 22:36:10.243 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/ProofWidgets4', commit='e6b6247c61
280c77ade6bbf0bc3c66a44fe2e0c5')
2024-08-31 22:36:10.307 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover/lean4-cli', commit='2cf1030dc2ae6b3632c84a09
350b675ef3e347d0')
2024-08-31 22:36:10.339 | DEBUG    | lean_dojo.data_extraction.lean:get_dependencies:499 - Querying the dependencies of LeanGitRepo(url='https://github.com/leanprover-community/import-graph', commit='0a756018b73
6ef4f4bc3c9a45fc03cf97a0b1a0c')
2024-08-31 22:36:37.911 | DEBUG    | lean_dojo.data_extraction.traced_data:check_sanity:1009 - Checking the sanity of TracedRepo(repo=LeanGitRepo(url='https://github.com/leanprover-community/mathlib4', commit='2
b29e73438e240a427bcecc7c0fe19306beb1310'), dependencies={'lean4': LeanGitRepo(url='https://github.com/leanprover/lean4', commit='daa22187642d4cf6954c39a23eab20d8a8675416'), 'batteries': LeanGitRepo(url='https://
github.com/leanprover-community/batteries', commit='021e272cb5cdcc82b7e1e760fe915ff2f64169ad'), 'Qq': LeanGitRepo(url='https://github.com/leanprover-community/quote4', commit='53156671405fbbd5402ed17a79bd129b961
bd8d6'), 'aesop': LeanGitRepo(url='https://github.com/leanprover-community/aesop', commit='53ba96ad7666d4a2515292974631629b5ea5dfee'), 'proofwidgets': LeanGitRepo(url='https://github.com/leanprover-community/Pro
ofWidgets4', commit='e6b6247c61280c77ade6bbf0bc3c66a44fe2e0c5'), 'Cli': LeanGitRepo(url='https://github.com/leanprover/lean4-cli', commit='2cf1030dc2ae6b3632c84a09350b675ef3e347d0'), '«doc-gen4»': LeanGitRepo(ur
l='https://github.com/leanprover/doc-gen4', commit='83f718b9055972dce4f92f5b3917426b91a0d2fe'), 'MD4Lean': LeanGitRepo(url='https://github.com/acmepjz/md4lean', commit='5e95f4776be5e048364f325c7e9d619bb56fb005')
, 'UnicodeBasic': LeanGitRepo(url='https://github.com/fgdorais/lean4-unicode-basic', commit='9447739fe9714f8a091192bad5cd5e7b5a8ae1e4'), 'BibtexQuery': LeanGitRepo(url='https://github.com/dupuisf/BibtexQuery', c
ommit='c138ab5c566c4268798b24bfcbea2f4c42413cdd'), 'importGraph': LeanGitRepo(url='https://github.com/leanprover-community/import-graph', commit='0a756018b736ef4f4bc3c9a45fc03cf97a0b1a0c')}, root_dir=PosixPath('
/data/yingzi_ma/lean_project/.cache/lean_dojo/leanprover-community-mathlib4-2b29e73438e240a427bcecc7c0fe19306beb1310/mathlib4'))
2024-08-31 22:37:04.243 | INFO     | generate_benchmark_lean4:main:367 - Successfully traced the repo
2024-08-31 22:37:04.244 | WARNING  | generate_benchmark_lean4:main:372 - /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310 already exists. Using it ins
tead.
2024-08-31 22:37:04.244 | INFO     | __main__:retrieve_proof:1036 - Finished generating benchmark at /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310
2024-08-31 22:37:14.793 | INFO     | dynamic_database:add_repository:583 - Attempting to add repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 22:37:14.793 | INFO     | dynamic_database:add_repository:586 - Added new repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 49595.6
4it/s]
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 52081.6
4it/s]
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 116251/116251 [01:47<00:00, 1085.6
7it/s]
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 116251/116251 [01:48<00:00, 1074.2
5it/s]
2024-08-31 22:37:51.044 | INFO     | __main__:retrieve_proof:1074 - Before adding new repo:
2024-08-31 22:37:51.045 | INFO     | dynamic_database:print_database_contents:607 - Current database contents:
2024-08-31 22:37:51.045 | INFO     | dynamic_database:print_database_contents:609 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 22:37:51.045 | INFO     | dynamic_database:add_repository:583 - Attempting to add repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 22:37:51.045 | INFO     | dynamic_database:add_repository:588 - Repository 'https://github.com/leanprover-community/mathlib4' with commit '2b29e73438e240a427bcecc7c0fe19306beb1310' already exists in t
he database.
2024-08-31 22:37:51.045 | INFO     | __main__:retrieve_proof:1077 - After adding new repo:
2024-08-31 22:37:51.045 | INFO     | dynamic_database:print_database_contents:607 - Current database contents:
2024-08-31 22:37:51.045 | INFO     | dynamic_database:print_database_contents:609 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 22:37:51.501 | INFO     | __main__:retrieve_proof:1074 - Before adding new repo:
2024-08-31 22:37:51.501 | INFO     | dynamic_database:print_database_contents:607 - Current database contents:
2024-08-31 22:37:51.501 | INFO     | dynamic_database:print_database_contents:609 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 22:37:51.501 | INFO     | dynamic_database:add_repository:583 - Attempting to add repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 22:37:51.501 | INFO     | dynamic_database:add_repository:588 - Repository 'https://github.com/leanprover-community/mathlib4' with commit '2b29e73438e240a427bcecc7c0fe19306beb1310' already exists in t
he database.
2024-08-31 22:37:51.501 | INFO     | __main__:retrieve_proof:1077 - After adding new repo:
2024-08-31 22:37:51.501 | INFO     | dynamic_database:print_database_contents:607 - Current database contents:
2024-08-31 22:37:51.501 | INFO     | dynamic_database:print_database_contents:609 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 22:38:04.435 | INFO     | __main__:retrieve_proof:1086 - Adding repo to repos_for_merged_dataset
2024-08-31 22:38:04.438 | INFO     | dynamic_database:generate_merged_dataset:399 - Merging selected repositories in the database:
2024-08-31 22:38:04.438 | INFO     | dynamic_database:generate_merged_dataset:401 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 22:38:04.857 | INFO     | __main__:retrieve_proof:1086 - Adding repo to repos_for_merged_dataset
2024-08-31 22:38:04.858 | INFO     | dynamic_database:generate_merged_dataset:399 - Merging selected repositories in the database:
2024-08-31 22:38:04.858 | INFO     | dynamic_database:generate_merged_dataset:401 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 116251/116251 [01:53<00:00, 1025.9
1it/s]
2024-08-31 22:39:11.998 | INFO     | __main__:retrieve_proof:1074 - Before adding new repo:
2024-08-31 22:39:11.998 | INFO     | dynamic_database:print_database_contents:607 - Current database contents:
2024-08-31 22:39:11.998 | INFO     | dynamic_database:print_database_contents:609 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 22:39:11.998 | INFO     | dynamic_database:add_repository:583 - Attempting to add repository: https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 22:39:11.998 | INFO     | dynamic_database:add_repository:588 - Repository 'https://github.com/leanprover-community/mathlib4' with commit '2b29e73438e240a427bcecc7c0fe19306beb1310' already exists in t
he database.
2024-08-31 22:39:11.998 | INFO     | __main__:retrieve_proof:1077 - After adding new repo:
2024-08-31 22:39:11.998 | INFO     | dynamic_database:print_database_contents:607 - Current database contents:
2024-08-31 22:39:11.998 | INFO     | dynamic_database:print_database_contents:609 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 22:39:25.457 | INFO     | __main__:retrieve_proof:1086 - Adding repo to repos_for_merged_dataset
2024-08-31 22:39:25.458 | INFO     | dynamic_database:generate_merged_dataset:399 - Merging selected repositories in the database:
2024-08-31 22:39:25.458 | INFO     | dynamic_database:generate_merged_dataset:401 -   - https://github.com/leanprover-community/mathlib4 (commit: 2b29e73438e240a427bcecc7c0fe19306beb1310)
2024-08-31 22:40:32.195 | WARNING  | dynamic_database:generate_merged_dataset:418 - /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310 a
lready exists. Removing it now.
2024-08-31 22:40:33.529 | WARNING  | dynamic_database:generate_merged_dataset:418 - /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310 a
lready exists. Removing it now.
2024-08-31 22:40:55.822 | INFO     | dynamic_database:generate_merged_dataset:422 - Exported proofs to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc
7c0fe19306beb1310
2024-08-31 22:40:56.431 | INFO     | dynamic_database:generate_merged_dataset:425 - Merged and exported corpus to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e2
40a427bcecc7c0fe19306beb1310
2024-08-31 22:40:56.448 | INFO     | dynamic_database:generate_merged_dataset:428 - Exported traced files to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a42
7bcecc7c0fe19306beb1310
2024-08-31 22:40:56.452 | INFO     | dynamic_database:generate_merged_dataset:431 - Exported metadata to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310
2024-08-31 22:40:56.475 | INFO     | __main__:find_latest_checkpoint:455 - Using the latest checkpoint: /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069
194c5.ckpt
2024-08-31 22:40:56.475 | INFO     | __main__:retrieve_proof:1098 - Found latest checkpoint: /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.ckpt
2024-08-31 22:40:56.475 | INFO     | __main__:train_test_fisher:595 - Inside train_test_fisher
2024-08-31 22:40:56.475 | INFO     | __main__:train_test_fisher:596 - Starting training at epoch 0
[rank: 2] Seed set to 3407
2024-08-31 22:40:57.303 | INFO     | dynamic_database:generate_merged_dataset:422 - Exported proofs to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc
7c0fe19306beb1310
2024-08-31 22:40:57.918 | INFO     | dynamic_database:generate_merged_dataset:425 - Merged and exported corpus to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e2
40a427bcecc7c0fe19306beb1310
2024-08-31 22:40:57.934 | INFO     | dynamic_database:generate_merged_dataset:428 - Exported traced files to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a42
7bcecc7c0fe19306beb1310
2024-08-31 22:40:57.937 | INFO     | dynamic_database:generate_merged_dataset:431 - Exported metadata to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310
2024-08-31 22:40:57.960 | INFO     | __main__:find_latest_checkpoint:455 - Using the latest checkpoint: /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069
194c5.ckpt
2024-08-31 22:40:57.961 | INFO     | __main__:retrieve_proof:1098 - Found latest checkpoint: /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.ckpt
2024-08-31 22:40:57.961 | INFO     | __main__:train_test_fisher:595 - Inside train_test_fisher
2024-08-31 22:40:57.961 | INFO     | __main__:train_test_fisher:596 - Starting training at epoch 0
[rank: 3] Seed set to 3407
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/lightning_fabric/utilities/cloud_io.py:57: You are using `torch.load` with `weights_only=False` (the current default value), which uses the d
efault pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-mode
ls for more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be
allowed to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don
't have full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.
Lightning automatically upgraded your loaded checkpoint from v0.0.0 to v2.2.4. To apply the upgrade to your files permanently, run `python -m pytorch_lightning.utilities.upgrade_checkpoint ../checkpoints_PT_sing
le_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.ckpt`
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/lightning_fabric/utilities/cloud_io.py:57: You are using `torch.load` with `weights_only=False` (the current default value), which uses the d
efault pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-mode
ls for more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be
allowed to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don
't have full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.
Lightning automatically upgraded your loaded checkpoint from v0.0.0 to v2.2.4. To apply the upgrade to your files permanently, run `python -m pytorch_lightning.utilities.upgrade_checkpoint ../checkpoints_PT_sing
le_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.ckpt`
2024-08-31 22:41:02.013 | INFO     | __main__:train_test_fisher:620 - Loaded premise retriever at /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.
ckpt and reset epoch count
2024-08-31 22:41:02.018 | INFO     | __main__:find_latest_fisher:465 - Using the latest Fisher Information Matrix: /data/yingzi_ma/lean_project/fisher_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68
bbe069194c5_fisher_info.pkl
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/torch/storage.py:414: FutureWarning: You are using `torch.load` with `weights_only=False` (the current default value), which uses the default
 pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-models for
 more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be allowe
d to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don't hav
e full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.
  return torch.load(io.BytesIO(b))
2024-08-31 22:41:02.936 | INFO     | __main__:train_test_fisher:620 - Loaded premise retriever at /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.
ckpt and reset epoch count
2024-08-31 22:41:02.936 | INFO     | __main__:find_latest_fisher:465 - Using the latest Fisher Information Matrix: /data/yingzi_ma/lean_project/fisher_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68
bbe069194c5_fisher_info.pkl
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/torch/storage.py:414: FutureWarning: You are using `torch.load` with `weights_only=False` (the current default value), which uses the default
 pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-models for
 more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be allowe
d to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don't hav
e full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.
  return torch.load(io.BytesIO(b))
2024-08-31 22:41:03.699 | INFO     | __main__:load_fisher_information:442 - Fisher Information successfully loaded.
2024-08-31 22:41:03.699 | INFO     | retrieval.model:set_fisher_info:62 - Fisher Information has been updated in the model.
2024-08-31 22:41:03.700 | INFO     | __main__:train_test_fisher:626 - Fisher Information Matrix loaded.
Data path: /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310/random
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/transformers/tokenization_utils_base.py:1601: FutureWarning: `clean_up_tokenization_spaces` was not set. It will be set to `True` by default.
 This behavior will be depracted in transformers v4.45, and will be then set to `False` by default. For more details check this issue: https://github.com/huggingface/transformers/issues/31884
  warnings.warn(
2024-08-31 22:41:03.810 | INFO     | common:__init__:208 - Building the corpus from /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310/c
orpus.jsonl
2024-08-31 22:41:04.145 | INFO     | __main__:load_fisher_information:442 - Fisher Information successfully loaded.
2024-08-31 22:41:04.145 | INFO     | retrieval.model:set_fisher_info:62 - Fisher Information has been updated in the model.
2024-08-31 22:41:04.145 | INFO     | __main__:train_test_fisher:626 - Fisher Information Matrix loaded.
Data path: /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310/random
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/transformers/tokenization_utils_base.py:1601: FutureWarning: `clean_up_tokenization_spaces` was not set. It will be set to `True` by default.
 This behavior will be depracted in transformers v4.45, and will be then set to `False` by default. For more details check this issue: https://github.com/huggingface/transformers/issues/31884
  warnings.warn(
2024-08-31 22:41:04.242 | INFO     | common:__init__:208 - Building the corpus from /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310/c
orpus.jsonl
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 116251/116251 [00:17<00:00, 6489.2
9it/s]
 99%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████▉ | 115527/116251 [00:18<00:00, 6757.9
8it/s]2024-08-31 22:41:47.733 | INFO     | retrieval.datamodule:load_or_cache_data:61 - Saved loaded data to cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e
240a427bcecc7c0fe19306beb1310/random/cache_train/cached_data.pkl
Training dataset size: 358647
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 116251/116251 [00:18<00:00, 6333.5
1it/s]
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 6287.0
5it/s]
2024-08-31 22:41:48.217 | INFO     | retrieval.datamodule:load_or_cache_data:61 - Saved loaded data to cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a42
7bcecc7c0fe19306beb1310/random/cache_val/cached_data.pkl
Validation dataset size: 4904
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 6065.7
2it/s]
2024-08-31 22:41:48.722 | INFO     | retrieval.datamodule:load_or_cache_data:61 - Saved loaded data to cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a42
7bcecc7c0fe19306beb1310/random/cache_pred/cached_data.pkl
Testing dataset size: 5431
Training dataset size after load: 358647
Validation dataset size after load: 4904
Testing dataset size after load: 5431
2024-08-31 22:41:48.880 | INFO     | __main__:train_test_fisher:699 - Starting progressive training from epoch 0 to 1
[rank: 2] Seed set to 3407
Initializing distributed: GLOBAL_RANK: 2, MEMBER: 3/4
Missing logger folder: /data/yingzi_ma/lean_project/lightning_logs/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310_False_lambda_0.1/lightning_logs
2024-08-31 22:41:49.950 | INFO     | retrieval.datamodule:load_or_cache_data:61 - Saved loaded data to cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a42
7bcecc7c0fe19306beb1310/random/cache_train/cached_data.pkl
Training dataset size: 358647
2024-08-31 22:41:49.982 | INFO     | retrieval.datamodule:load_or_cache_data:52 - Loaded data from cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310/random/cache_val/cached_data.pkl
Validation dataset size: 4904
2024-08-31 22:41:50.011 | INFO     | retrieval.datamodule:load_or_cache_data:52 - Loaded data from cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310/random/cache_pred/cached_data.pkl
Testing dataset size: 5431
Training dataset size after load: 358647
Validation dataset size after load: 4904
Testing dataset size after load: 5431
2024-08-31 22:41:50.162 | INFO     | __main__:train_test_fisher:699 - Starting progressive training from epoch 0 to 1
[rank: 3] Seed set to 3407
Initializing distributed: GLOBAL_RANK: 3, MEMBER: 4/4
Missing logger folder: /data/yingzi_ma/lean_project/lightning_logs/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310_False_lambda_0.1/lightning_logs
2024-08-31 22:41:52.458 | WARNING  | dynamic_database:generate_merged_dataset:418 - /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310 a
lready exists. Removing it now.
2024-08-31 22:42:15.443 | INFO     | dynamic_database:generate_merged_dataset:422 - Exported proofs to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc
7c0fe19306beb1310
2024-08-31 22:42:16.041 | INFO     | dynamic_database:generate_merged_dataset:425 - Merged and exported corpus to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e2
40a427bcecc7c0fe19306beb1310
2024-08-31 22:42:16.056 | INFO     | dynamic_database:generate_merged_dataset:428 - Exported traced files to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a42
7bcecc7c0fe19306beb1310
2024-08-31 22:42:16.059 | INFO     | dynamic_database:generate_merged_dataset:431 - Exported metadata to /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310
2024-08-31 22:42:16.081 | INFO     | __main__:find_latest_checkpoint:455 - Using the latest checkpoint: /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069
194c5.ckpt
2024-08-31 22:42:16.081 | INFO     | __main__:retrieve_proof:1098 - Found latest checkpoint: /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.ckpt
2024-08-31 22:42:16.081 | INFO     | __main__:train_test_fisher:595 - Inside train_test_fisher
2024-08-31 22:42:16.082 | INFO     | __main__:train_test_fisher:596 - Starting training at epoch 0
[rank: 1] Seed set to 3407
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/lightning_fabric/utilities/cloud_io.py:57: You are using `torch.load` with `weights_only=False` (the current default value), which uses the d
efault pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-mode
ls for more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be
allowed to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don
't have full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.
Lightning automatically upgraded your loaded checkpoint from v0.0.0 to v2.2.4. To apply the upgrade to your files permanently, run `python -m pytorch_lightning.utilities.upgrade_checkpoint ../checkpoints_PT_sing
le_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.ckpt`
2024-08-31 22:42:19.349 | INFO     | __main__:train_test_fisher:620 - Loaded premise retriever at /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.
ckpt and reset epoch count
2024-08-31 22:42:19.350 | INFO     | __main__:find_latest_fisher:465 - Using the latest Fisher Information Matrix: /data/yingzi_ma/lean_project/fisher_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68
bbe069194c5_fisher_info.pkl
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/torch/storage.py:414: FutureWarning: You are using `torch.load` with `weights_only=False` (the current default value), which uses the default
 pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-models for
 more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be allowe
d to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don't hav
e full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.
  return torch.load(io.BytesIO(b))
2024-08-31 22:42:20.323 | INFO     | __main__:load_fisher_information:442 - Fisher Information successfully loaded.
2024-08-31 22:42:20.323 | INFO     | retrieval.model:set_fisher_info:62 - Fisher Information has been updated in the model.
2024-08-31 22:42:20.323 | INFO     | __main__:train_test_fisher:626 - Fisher Information Matrix loaded.
Data path: /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310/random
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/transformers/tokenization_utils_base.py:1601: FutureWarning: `clean_up_tokenization_spaces` was not set. It will be set to `True` by default.
 This behavior will be depracted in transformers v4.45, and will be then set to `False` by default. For more details check this issue: https://github.com/huggingface/transformers/issues/31884
  warnings.warn(
2024-08-31 22:42:20.426 | INFO     | common:__init__:208 - Building the corpus from /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310/c
orpus.jsonl
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 116251/116251 [00:17<00:00, 6481.6
6it/s]
2024-08-31 22:43:01.894 | INFO     | retrieval.datamodule:load_or_cache_data:61 - Saved loaded data to cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a42
7bcecc7c0fe19306beb1310/random/cache_train/cached_data.pkl
Training dataset size: 358647
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 6496.2
4it/s]
2024-08-31 22:43:02.366 | INFO     | retrieval.datamodule:load_or_cache_data:61 - Saved loaded data to cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a42
7bcecc7c0fe19306beb1310/random/cache_val/cached_data.pkl
Validation dataset size: 4904
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2421/2421 [00:00<00:00, 6194.0
9it/s]
2024-08-31 22:43:02.865 | INFO     | retrieval.datamodule:load_or_cache_data:61 - Saved loaded data to cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a42
7bcecc7c0fe19306beb1310/random/cache_pred/cached_data.pkl
Testing dataset size: 5431
Training dataset size after load: 358647
Validation dataset size after load: 4904
Testing dataset size after load: 5431
2024-08-31 22:43:03.002 | INFO     | __main__:train_test_fisher:699 - Starting progressive training from epoch 0 to 1
[rank: 1] Seed set to 3407
Initializing distributed: GLOBAL_RANK: 1, MEMBER: 2/4
----------------------------------------------------------------------------------------------------
distributed_backend=nccl
All distributed processes registered. Starting with 4 processes
----------------------------------------------------------------------------------------------------

Missing logger folder: /data/yingzi_ma/lean_project/lightning_logs/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310_False_lambda_0.1/lightning_logs
Missing logger folder: /data/yingzi_ma/lean_project/lightning_logs/merged_with_new_mathlib4_2b29e73438e240a427bcecc7c0fe19306beb1310_False_lambda_0.1/lightning_logs
NCCL version 2.20.5+cuda12.4
2024-08-31 22:43:06.566 | INFO     | retrieval.datamodule:load_or_cache_data:52 - Loaded data from cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310/random/cache_train/cached_data.pkl
2024-08-31 22:43:06.584 | INFO     | retrieval.datamodule:load_or_cache_data:52 - Loaded data from cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310/random/cache_train/cached_data.pkl
Training dataset size: 358647
Training dataset size: 358647
2024-08-31 22:43:06.826 | INFO     | retrieval.datamodule:load_or_cache_data:52 - Loaded data from cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310/random/cache_val/cached_data.pkl
Validation dataset size: 4904
2024-08-31 22:43:06.867 | INFO     | retrieval.datamodule:load_or_cache_data:52 - Loaded data from cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310/random/cache_val/cached_data.pkl
2024-08-31 22:43:06.873 | INFO     | retrieval.datamodule:load_or_cache_data:52 - Loaded data from cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310/random/cache_pred/cached_data.pkl
Validation dataset size: 4904
Testing dataset size: 5431
2024-08-31 22:43:06.915 | INFO     | retrieval.datamodule:load_or_cache_data:52 - Loaded data from cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310/random/cache_pred/cached_data.pkl
Testing dataset size: 5431
2024-08-31 22:43:06.951 | INFO     | retrieval.datamodule:load_or_cache_data:52 - Loaded data from cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310/random/cache_train/cached_data.pkl
2024-08-31 22:43:07.050 | INFO     | retrieval.datamodule:load_or_cache_data:52 - Loaded data from cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310/random/cache_train/cached_data.pkl
Training dataset size: 358647
2024-08-31 22:43:07.215 | INFO     | retrieval.datamodule:load_or_cache_data:52 - Loaded data from cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310/random/cache_val/cached_data.pkl
Validation dataset size: 4904
2024-08-31 22:43:07.270 | INFO     | retrieval.datamodule:load_or_cache_data:52 - Loaded data from cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310/random/cache_pred/cached_data.pkl
Testing dataset size: 5431
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/callbacks/model_checkpoint.py:653: Checkpoint directory /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc exis
ts and is not empty.
Training dataset size: 358647
2024-08-31 22:43:07.400 | INFO     | retrieval.datamodule:load_or_cache_data:52 - Loaded data from cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310/random/cache_val/cached_data.pkl
Validation dataset size: 4904
2024-08-31 22:43:07.464 | INFO     | retrieval.datamodule:load_or_cache_data:52 - Loaded data from cache /data/yingzi_ma/lean_project/datasets_PT_single_repo_no_ewc/merged_with_new_mathlib4_2b29e73438e240a427bce
cc7c0fe19306beb1310/random/cache_pred/cached_data.pkl
Testing dataset size: 5431
Restoring states from the checkpoint path at /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.ckpt
/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/lightning_fabric/utilities/cloud_io.py:57: You are using `torch.load` with `weights_only=False` (the current default value), which uses the d
efault pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-mode
ls for more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be
allowed to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don
't have full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.
Lightning automatically upgraded your loaded checkpoint from v0.0.0 to v2.2.4. To apply the upgrade to your files permanently, run `python -m pytorch_lightning.utilities.upgrade_checkpoint ../checkpoints_PT_sing
le_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.ckpt`
Lightning automatically upgraded your loaded checkpoint from v0.0.0 to v2.2.4. To apply the upgrade to your files permanently, run `python -m pytorch_lightning.utilities.upgrade_checkpoint ../checkpoints_PT_sing
le_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.ckpt`
LOCAL_RANK: 3 - CUDA_VISIBLE_DEVICES: [0,1,2,3]
LOCAL_RANK: 2 - CUDA_VISIBLE_DEVICES: [0,1,2,3]
Lightning automatically upgraded your loaded checkpoint from v0.0.0 to v2.2.4. To apply the upgrade to your files permanently, run `python -m pytorch_lightning.utilities.upgrade_checkpoint ../checkpoints_PT_sing
le_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.ckpt`
Lightning automatically upgraded your loaded checkpoint from v0.0.0 to v2.2.4. To apply the upgrade to your files permanently, run `python -m pytorch_lightning.utilities.upgrade_checkpoint ../checkpoints_PT_sing
le_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.ckpt`
LOCAL_RANK: 0 - CUDA_VISIBLE_DEVICES: [0,1,2,3]
LOCAL_RANK: 1 - CUDA_VISIBLE_DEVICES: [0,1,2,3]
2024-08-31 22:43:08.651 | INFO     | common:get_optimizers:445 - Optimizing with AdamW
2024-08-31 22:43:08.651 | INFO     | common:get_optimizers:445 - Optimizing with AdamW
2024-08-31 22:43:08.652 | INFO     | common:get_optimizers:445 - Optimizing with AdamW
2024-08-31 22:43:08.653 | INFO     | common:get_optimizers:445 - Optimizing with AdamW

  | Name    | Type           | Params
-------------------------------------------
0 | encoder | T5EncoderModel | 217 M
-------------------------------------------
217 M     Trainable params
0         Non-trainable params
217 M     Total params
870.630   Total estimated model params size (MB)
Restored all states from the checkpoint at /data/yingzi_ma/lean_project/checkpoints_PT_single_repo_no_ewc/mathlib4_29dcec074de168ac2bf835a77ef68bbe069194c5.ckpt
Epoch 0:   0%|                                                                                                                                                              | 3/22415 [00:03<7:56:57,  0.78it/s, v_
num=0]2024-08-31 22:44:13.655 | INFO     | __main__:main:1232 - An error occurred: unsupported operand type(s) for +=: 'NoneType' and 'int'
Traceback (most recent call last):
  File "/data/yingzi_ma/lean_project/ReProver/main2.py", line 1212, in main
    proofs = retrieve_proof(run_progressive_training, use_fisher, single_repo, dynamic_database_json_path, lean_git_repo, repo_no_dir, lean_git_repo.commit, lambda_value, current_epoch, epochs_per_repo)
  File "/data/yingzi_ma/lean_project/ReProver/main2.py", line 1104, in retrieve_proof
    train_test_fisher(model_checkpoint_path, dst_dir, lambda_value, current_epoch, use_fisher, epochs_per_repo)
  File "/data/yingzi_ma/lean_project/ReProver/main2.py", line 706, in train_test_fisher
    trainer.fit(model, datamodule=data_module, ckpt_path=model_checkpoint_path)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/trainer/trainer.py", line 544, in fit
    call._call_and_handle_interrupt(
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/trainer/call.py", line 43, in _call_and_handle_interrupt
    return trainer.strategy.launcher.launch(trainer_fn, *args, trainer=trainer, **kwargs)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/strategies/launchers/subprocess_script.py", line 105, in launch
    return function(*args, **kwargs)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/trainer/trainer.py", line 580, in _fit_impl
    self._run(model, ckpt_path=ckpt_path)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/trainer/trainer.py", line 987, in _run
    results = self._run_stage()
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/trainer/trainer.py", line 1033, in _run_stage
    self.fit_loop.run()
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/fit_loop.py", line 205, in run
    self.advance()
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/fit_loop.py", line 363, in advance
    self.epoch_loop.run(self._data_fetcher)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/training_epoch_loop.py", line 140, in run
    self.advance(data_fetcher)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/training_epoch_loop.py", line 250, in advance
    batch_output = self.automatic_optimization.run(trainer.optimizers[0], batch_idx, kwargs)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/optimization/automatic.py", line 190, in run
    self._optimizer_step(batch_idx, closure)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/optimization/automatic.py", line 278, in _optimizer_step
    self.optim_progress.optimizer.step.increment_completed()
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/progress.py", line 159, in increment_completed
    self.total.completed += 1
TypeError: unsupported operand type(s) for +=: 'NoneType' and 'int'
2024-08-31 22:44:14.619 | INFO     | __main__:main:1232 - An error occurred: unsupported operand type(s) for +=: 'NoneType' and 'int'
Traceback (most recent call last):
  File "/data/yingzi_ma/lean_project/ReProver/main2.py", line 1212, in main
    proofs = retrieve_proof(run_progressive_training, use_fisher, single_repo, dynamic_database_json_path, lean_git_repo, repo_no_dir, lean_git_repo.commit, lambda_value, current_epoch, epochs_per_repo)
  File "/data/yingzi_ma/lean_project/ReProver/main2.py", line 1104, in retrieve_proof
    train_test_fisher(model_checkpoint_path, dst_dir, lambda_value, current_epoch, use_fisher, epochs_per_repo)
  File "/data/yingzi_ma/lean_project/ReProver/main2.py", line 706, in train_test_fisher
    trainer.fit(model, datamodule=data_module, ckpt_path=model_checkpoint_path)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/trainer/trainer.py", line 544, in fit
    call._call_and_handle_interrupt(
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/trainer/call.py", line 43, in _call_and_handle_interrupt
    return trainer.strategy.launcher.launch(trainer_fn, *args, trainer=trainer, **kwargs)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/strategies/launchers/subprocess_script.py", line 105, in launch
    return function(*args, **kwargs)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/trainer/trainer.py", line 580, in _fit_impl
    self._run(model, ckpt_path=ckpt_path)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/trainer/trainer.py", line 987, in _run
    results = self._run_stage()
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/trainer/trainer.py", line 1033, in _run_stage
    self.fit_loop.run()
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/fit_loop.py", line 205, in run
    self.advance()
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/fit_loop.py", line 363, in advance
    self.epoch_loop.run(self._data_fetcher)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/training_epoch_loop.py", line 140, in run
    self.advance(data_fetcher)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/training_epoch_loop.py", line 250, in advance
    batch_output = self.automatic_optimization.run(trainer.optimizers[0], batch_idx, kwargs)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/optimization/automatic.py", line 190, in run
    self._optimizer_step(batch_idx, closure)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/optimization/automatic.py", line 278, in _optimizer_step
    self.optim_progress.optimizer.step.increment_completed()
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/progress.py", line 159, in increment_completed
    self.total.completed += 1
TypeError: unsupported operand type(s) for +=: 'NoneType' and 'int'
2024-08-31 22:44:14.776 | INFO     | __main__:main:1232 - An error occurred: unsupported operand type(s) for +=: 'NoneType' and 'int'
Traceback (most recent call last):
  File "/data/yingzi_ma/lean_project/ReProver/main2.py", line 1212, in main
    proofs = retrieve_proof(run_progressive_training, use_fisher, single_repo, dynamic_database_json_path, lean_git_repo, repo_no_dir, lean_git_repo.commit, lambda_value, current_epoch, epochs_per_repo)
  File "/data/yingzi_ma/lean_project/ReProver/main2.py", line 1104, in retrieve_proof
    train_test_fisher(model_checkpoint_path, dst_dir, lambda_value, current_epoch, use_fisher, epochs_per_repo)
  File "/data/yingzi_ma/lean_project/ReProver/main2.py", line 706, in train_test_fisher
    trainer.fit(model, datamodule=data_module, ckpt_path=model_checkpoint_path)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/trainer/trainer.py", line 544, in fit
    call._call_and_handle_interrupt(
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/trainer/call.py", line 43, in _call_and_handle_interrupt
    return trainer.strategy.launcher.launch(trainer_fn, *args, trainer=trainer, **kwargs)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/strategies/launchers/subprocess_script.py", line 105, in launch
    return function(*args, **kwargs)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/trainer/trainer.py", line 580, in _fit_impl
    self._run(model, ckpt_path=ckpt_path)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/trainer/trainer.py", line 987, in _run
    results = self._run_stage()
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/trainer/trainer.py", line 1033, in _run_stage
    self.fit_loop.run()
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/fit_loop.py", line 205, in run
    self.advance()
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/fit_loop.py", line 363, in advance
    self.epoch_loop.run(self._data_fetcher)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/training_epoch_loop.py", line 140, in run
    self.advance(data_fetcher)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/training_epoch_loop.py", line 250, in advance
    batch_output = self.automatic_optimization.run(trainer.optimizers[0], batch_idx, kwargs)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/optimization/automatic.py", line 190, in run
    self._optimizer_step(batch_idx, closure)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/optimization/automatic.py", line 278, in _optimizer_step
    self.optim_progress.optimizer.step.increment_completed()
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/progress.py", line 159, in increment_completed
    self.total.completed += 1
TypeError: unsupported operand type(s) for +=: 'NoneType' and 'int'
2024-08-31 22:44:14.846 | INFO     | __main__:main:1232 - An error occurred: unsupported operand type(s) for +=: 'NoneType' and 'int'
Traceback (most recent call last):
  File "/data/yingzi_ma/lean_project/ReProver/main2.py", line 1212, in main
    proofs = retrieve_proof(run_progressive_training, use_fisher, single_repo, dynamic_database_json_path, lean_git_repo, repo_no_dir, lean_git_repo.commit, lambda_value, current_epoch, epochs_per_repo)
  File "/data/yingzi_ma/lean_project/ReProver/main2.py", line 1104, in retrieve_proof
    train_test_fisher(model_checkpoint_path, dst_dir, lambda_value, current_epoch, use_fisher, epochs_per_repo)
  File "/data/yingzi_ma/lean_project/ReProver/main2.py", line 706, in train_test_fisher
    trainer.fit(model, datamodule=data_module, ckpt_path=model_checkpoint_path)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/trainer/trainer.py", line 544, in fit
    call._call_and_handle_interrupt(
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/trainer/call.py", line 43, in _call_and_handle_interrupt
    return trainer.strategy.launcher.launch(trainer_fn, *args, trainer=trainer, **kwargs)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/strategies/launchers/subprocess_script.py", line 105, in launch
    return function(*args, **kwargs)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/trainer/trainer.py", line 580, in _fit_impl
    self._run(model, ckpt_path=ckpt_path)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/trainer/trainer.py", line 987, in _run
    results = self._run_stage()
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/trainer/trainer.py", line 1033, in _run_stage
    self.fit_loop.run()
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/fit_loop.py", line 205, in run
    self.advance()
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/fit_loop.py", line 363, in advance
    self.epoch_loop.run(self._data_fetcher)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/training_epoch_loop.py", line 140, in run
    self.advance(data_fetcher)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/training_epoch_loop.py", line 250, in advance
    batch_output = self.automatic_optimization.run(trainer.optimizers[0], batch_idx, kwargs)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/optimization/automatic.py", line 190, in run
    self._optimizer_step(batch_idx, closure)
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/optimization/automatic.py", line 278, in _optimizer_step
    self.optim_progress.optimizer.step.increment_completed()
  File "/data/yingzi_ma/miniconda3/envs/ReProver/lib/python3.10/site-packages/pytorch_lightning/loops/progress.py", line 159, in increment_completed
    self.total.completed += 1
TypeError: unsupported operand type(s) for +=: 'NoneType' and 'int'
Epoch 0:   0%|                                                                                                                                                            | 3/22415 [01:42<211:56:26,  0.03it/s, v_
num=0]
[rank0]:[W831 22:47:37.920706926 ProcessGroupNCCL.cpp:1168] Warning: WARNING: process group has NOT been destroyed before we destruct ProcessGroupNCCL. On normal program exit, the application should call destroy
_process_group to ensure that any pending NCCL operations have finished in this process. In rare cases this process can exit before this point and block the progress of another member of the process group. This
constraint has always been present,  but this warning has only been added since PyTorch 2.4 (function operator())
(ReProver) yingzi_ma@compute-permanent-node-834:~/lean_project/ReProver$ python -c "import pytorch_lightning as pl; print(pl.__file__)" > pl_path.txt
(ReProver) yingzi_ma@compute-permanent-node-834:~/lean_project/ReProver$
